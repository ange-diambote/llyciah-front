(this.webpackJsonptAgency=this.webpackJsonptAgency||[]).push([[0],{149:function(e,t,a){e.exports=a.p+"static/media/clear-button.d9e1613e.svg"},157:function(e,t,a){},270:function(e,t,a){e.exports=a.p+"static/media/logo.0269ee00.png"},271:function(e,t,a){e.exports=a.p+"static/media/logo.4bb12130.png"},273:function(e,t,a){e.exports=a.p+"static/media/background.c16bdec2.jpg"},281:function(e,t,a){e.exports=a.p+"static/media/launcher_button.af95d0d7.svg"},282:function(e,t,a){e.exports=a.p+"static/media/send_button.6218677e.svg"},283:function(e){e.exports=JSON.parse('{"management.browser.delete.areYouSure":"Are you sure you want to delete {instanceName}?","management.browser.delete.ok":"Delete","management.browser.delete.cancel":"Cancel","management.browser.create":"Create","management.browser.edit":"Edit","management.browser.remove":"Remove","management.browser.noItems":"No data","management.editor.validationError":"Validation Error. Please check the data you entered.","management.editor.success":"Entity has been updated","management.editor.error":"Error","management.editor.cancel":"Cancel","management.editor.submit":"Submit","router.AccountManagement":"AccountManagement","chat.title":"Welcome to LLYCIAH Travcel","chat.marketer.online":"Your marketer is online","chat.marketer.offline":"Your marketer is offline","chat.placeHolder":"Type a message...","password.success":"Password changed","password.change":"Change","password.different":"New and confirmation password must be the same","password.same":"Current and new password must be different","password.title":"Password change","password.old":"Current password","password.new":"New password","password.confirm":"Confirm password","booking.submit.areYouSure":"Are you sure you want to book it?","booking.submit.areYouSure.ok":"Book","booking.submit.areYouSure.cancel":"Cancel","booking.success":"Booking done","booking.failed":"Booking failed","booking.submit":"Book","router.PriceCards":"Prices","management.browser.open":"Open","management.editor.close":"Close","router.TransctionManagement":"Transactions","router.BookingManagement":"Bookings","information.title":"My data","information.failed":"Your data are not available, please try later","router.Information":"My data","reset.title":"Password reset","reset.success":"You will receive password by sms","phone.error":"Must be a DRC phone number","customer.name":"Name","customer.firstName":"First name","customer.lastName":"Last name","customer.email":"Email","customer.phone":"Phone","customer.registerDate":"Register date","customer.placeBirth":"Place birth","customer.birthDay":"Birth day","customer.passport":"Passport","router.CustomerManagement":"CustomerManagement","register.success":"Your registration request was successful\\nYou \'ll receive login information by sms","register.title":"Please, enter your information","register.login.invalid":"Invalid login","login.register":"Not registered yet","login.registerBtn":"Register now","login.reset":"Did you forgot your password? ","login.resetBtn":"Forgot password","common.alt.logo":"Logo","home.welcome":"Welcome to","router.home":"Home","login.failed":"Login failed","login.placeholder.login":"Login","login.placeholder.password":"Password","login.loginBtn":"Submit","header.logout.areYouSure":"Are you sure you want to logout?","header.logout.ok":"Logout","header.logout.cancel":"Cancel","cubaReact.dataTable.clearAllFilters":"Clear filters","cubaReact.dataTable.requiredField":"Required field","cubaReact.dataTable.failedToLoadNestedEntities":"Failed to load nested entities list","cubaReact.dataTable.loading":"Loading...","cubaReact.dataTable.operator.startsWith":"starts with","cubaReact.dataTable.operator.endsWith":"ends with","cubaReact.dataTable.operator.contains":"contains","cubaReact.dataTable.operator.doesNotContain":"doesn\'t contain","cubaReact.dataTable.operator.in":"in","cubaReact.dataTable.operator.notIn":"not in","cubaReact.dataTable.operator.notEmpty":"is set","cubaReact.dataTable.operator.inInterval":"in interval","cubaReact.dataTable.yes":"Yes","cubaReact.dataTable.no":"No","cubaReact.dataTable.ok":"OK","cubaReact.dataTable.reset":"Reset","cubaReact.dataTable.intervalEditor.last":"Last","cubaReact.dataTable.intervalEditor.next":"Next","cubaReact.dataTable.intervalEditor.predefined":"Predefined","cubaReact.dataTable.intervalEditor.today":"Today","cubaReact.dataTable.intervalEditor.yesterday":"Yesterday","cubaReact.dataTable.intervalEditor.tomorrow":"Tomorrow","cubaReact.dataTable.intervalEditor.lastMonth":"Last month","cubaReact.dataTable.intervalEditor.thisMonth":"This month","cubaReact.dataTable.intervalEditor.nextMonth":"Next month","cubaReact.dataTable.intervalEditor.days":"Days","cubaReact.dataTable.intervalEditor.hours":"Hours","cubaReact.dataTable.intervalEditor.minutes":"Minutes","cubaReact.dataTable.intervalEditor.months":"Months","cubaReact.dataTable.intervalEditor.includingCurrent":"including current","cubaReact.dataTable.listEditor.addItem":"Add Item","cubaReact.fileUpload.replace":"Upload a different file by clicking or dragging file to this area","cubaReact.fileUpload.upload":"Click or drag file to this area to upload","cubaReact.fileUpload.uploadFailed":"File upload failed","antd.form.validation.default":"Field %s has a validation error.","antd.form.validation.required":"Field %s is mandatory.","antd.form.validation.enum":"Specified value in field %s shall be restricted to the following list: %s.","antd.form.validation.whitespace":"Field %s cannot contain only whitespaces.","antd.form.validation.date.format":"Field %s contains a date %s that does not conform to the required format %s.","antd.form.validation.date.parse":"Field %s contains a date %s that cannot be parsed.","antd.form.validation.date.invalid":"Field %s contains an invalid date %s.","antd.form.validation.types.string":"%s has type different from %s.","antd.form.validation.types.method":"%s has type different from %s.","antd.form.validation.types.array":"%s has type different from %s.","antd.form.validation.types.object":"%s has type different from %s.","antd.form.validation.types.number":"%s has type different from %s.","antd.form.validation.types.date":"%s has type different from %s.","antd.form.validation.types.boolean":"%s has type different from %s.","antd.form.validation.types.integer":"%s has type different from %s.","antd.form.validation.types.float":"%s has type different from %s.","antd.form.validation.types.regexp":"Specified value in field %s is not a valid %s.","antd.form.validation.types.email":"Specified value in field %s is not a valid %s.","antd.form.validation.types.url":"Specified value in field %s is not a valid %s.","antd.form.validation.types.hex":"Specified value in field %s is not a valid %s.","antd.form.validation.string.len":"Field %s shall be exactly %s characters long.","antd.form.validation.string.min":"Field %s shall contain no less than %s characters.","antd.form.validation.string.max":"Field %s shall contain no more than %s characters.","antd.form.validation.string.range":"Field %s shall contain from %s to %s characters.","antd.form.validation.number.len":"%s shall be equal to %s.","antd.form.validation.number.min":"%s shall not be less than %s.","antd.form.validation.number.max":"%s shall not exceed %s.","antd.form.validation.number.range":"%s shall be within a range from %s to %s.","antd.form.validation.array.len":"%s shall have exactly %s elements.","antd.form.validation.array.min":"%s shall have no less than %s elements.","antd.form.validation.array.max":"%s shall have no more than %s elements.","antd.form.validation.array.range":"%s shall have from %s to %s elements.","antd.form.validation.pattern.mismatch":"%s has value %s that doesn\'t match pattern %s."}')},284:function(e){e.exports=JSON.parse('{"chat.title":"Bienvenu \xe0 LLYCIAH Travcel","chat.marketer.online":"Votre commercial est en ligne","chat.marketer.offline":"Votre commercial est actuellement d\xe9connect\xe9","chat.placeHolder":"Type a message...","booking.submit.areYouSure":"Et vous s\xfbr de vouloir faire cette r\xe9servation?","booking.submit.areYouSure.ok":"R\xe9server","booking.submit.areYouSure.cancel":"Annuler","booking.success":"R\xe9servation effectu\xe9e","booking.failed":"La r\xe9servation a \xe9chou\xe9","booking.submit":"R\xe9server","router.PriceCards":"Prix","management.browser.delete.areYouSure":"\xcates-vous s\xfbr de vouloir supprimer {instanceName}?","management.browser.delete.ok":"Supprimer","management.browser.delete.cancel":"Annuler","management.browser.create":"Cr\xe9er","management.browser.edit":"Editer","management.browser.open":"Consulter","management.browser.remove":"Supprimer","management.browser.noItems":"Aucune donn\xe9e","management.editor.validationError":"Erreur de validation. Veuillez v\xe9rifier les donn\xe9es fournies.","management.editor.success":"Mise \xe0 jour effectu\xe9e","management.editor.error":"Erreur","management.editor.cancel":"Annuler","management.editor.close":"Fermer","management.editor.submit":"Envoyer","router.TransctionManagement":"Transactions","router.BookingManagement":"R\xe9servations","information.title":"Mes donn\xe9es","information.failed":"Vos donn\xe9es ne sont pas disponible, veuillez r\xe9essayer ult\xe9rieurement","router.Information":"Mes donn\xe9es","reset.title":"R\xe9initialisation du mot de passe","reset.success":"Vous recevrez votre mot de passe par sms","phone.error":"Doit \xeatre un num\xe9ro de la RDC","customer.name":"Nom","customer.firstName":"Pr\xe9nom","customer.lastName":"Post nom","customer.email":"Email","customer.phone":"T\xe9l\xe9phone","customer.registerDate":"Date d\u2019enregistrement","customer.placeBirth":"Lieu de naissance","customer.birthDay":"Date de naissance","customer.passport":"Passeport","router.CustomerManagement":"Gestion des clients","register.success":"Nous avons re\xe7u vos informations.\\nVous recevrez les informations d\u2019authentification par sms","register.title":"Veuillez renseigner vos informations","register.login.invalid":"Nom de connexion non valide","login.register":"Pas encore enregistr\xe9","login.registerBtn":"S\u2019enregitrer","login.reset":"Vous avez perdu votre mot de passe? ","login.resetBtn":"Mot de passe oubli\xe9","common.alt.logo":"Logo","home.welcome":"Bienvenu \xe0","router.home":"Accueil","login.failed":"Echec de l\u2018authentification","login.placeholder.login":"Identifiant","login.placeholder.password":"Mot de passe","login.loginBtn":"Se connecter","header.logout.areYouSure":"\xcates-vous s\xfbr de vouloir vous d\xe9connecter?","header.logout.ok":"D\xe9connexion","header.logout.cancel":"Annuler","cubaReact.dataTable.clearAllFilters":"R\xe9initialiser les filtres","cubaReact.dataTable.requiredField":"Champ obligatoire","cubaReact.dataTable.failedToLoadNestedEntities":"Echec de charger les informations annexes","cubaReact.dataTable.loading":"Chargement...","cubaReact.dataTable.operator.startsWith":"commence par","cubaReact.dataTable.operator.endsWith":"se termine par","cubaReact.dataTable.operator.contains":"contient","cubaReact.dataTable.operator.doesNotContain":"ne contient pas","cubaReact.dataTable.operator.in":"dans","cubaReact.dataTable.operator.notIn":"en dehors de","cubaReact.dataTable.operator.notEmpty":"non vide","cubaReact.dataTable.operator.inInterval":"dans l\u2019intervalle","cubaReact.dataTable.yes":"Oui","cubaReact.dataTable.no":"Non","cubaReact.dataTable.ok":"OK","cubaReact.dataTable.reset":"R\xe9initialiser","cubaReact.dataTable.intervalEditor.last":"Dernier","cubaReact.dataTable.intervalEditor.next":"Suivant","cubaReact.dataTable.intervalEditor.predefined":"Pr\xe9d\xe9fini","cubaReact.dataTable.intervalEditor.today":"Aujourd\u2019hui","cubaReact.dataTable.intervalEditor.yesterday":"Hier","cubaReact.dataTable.intervalEditor.tomorrow":"Demain","cubaReact.dataTable.intervalEditor.lastMonth":"Mois pass\xe9","cubaReact.dataTable.intervalEditor.thisMonth":"Ce moi ci","cubaReact.dataTable.intervalEditor.nextMonth":"Mois prochain","cubaReact.dataTable.intervalEditor.days":"Jours","cubaReact.dataTable.intervalEditor.hours":"Heures","cubaReact.dataTable.intervalEditor.minutes":"Minutes","cubaReact.dataTable.intervalEditor.months":"Mois","cubaReact.dataTable.intervalEditor.includingCurrent":"inclure celui encours","cubaReact.dataTable.listEditor.addItem":"Ajout \xe9l\xe9ment","cubaReact.fileUpload.replace":"T\xe9l\xe9 verser un fichier diff\xe9rent en cliquant ou glissant le fichier dans cette zone","cubaReact.fileUpload.upload":"Cliquez ou glisser le fichier dans cette zone","cubaReact.fileUpload.uploadFailed":"Echec du t\xe9l\xe9 versement du fichier","antd.form.validation.default":"Le champ %s a une erreur de validation.","antd.form.validation.required":"Le champ %s est obligatoire.","antd.form.validation.enum":"Le champ %s n\u2019autorise que l\u2019une des valeurs de la liste suivante : %s.","antd.form.validation.whitespace":"Le champ %s ne peut pas contenir uniquement que des caract\xe8re blanc.","antd.form.validation.date.format":"Le champ %s contient la date %s qui n\u2019est pas conforme au format requis %s.","antd.form.validation.date.parse":"Le champ %s contient la date %s qui ne peut pas \xeatre interpr\xe9t\xe9.","antd.form.validation.date.invalid":"Le champ %s contient une date invalide %s.","antd.form.validation.types.string":"%s a un type diff\xe9rent de %s.","antd.form.validation.types.method":"%s a un type diff\xe9rent de from %s.","antd.form.validation.types.array":"%s a un type diff\xe9rent de %s.","antd.form.validation.types.object":"%s a un type diff\xe9rent de %s.","antd.form.validation.types.number":"%s a un type diff\xe9rent de %s.","antd.form.validation.types.date":"%s a un type diff\xe9rent de %s.","antd.form.validation.types.boolean":"%s a un type diff\xe9rent de %s.","antd.form.validation.types.integer":"%s a un type diff\xe9rent de %s.","antd.form.validation.types.float":"%s a un type diff\xe9rent de %s.","antd.form.validation.types.regexp":"La valeur sp\xe9cifi\xe9e dans le champ %s is n\u2019est pas conforme \xe0 %s.","antd.form.validation.types.email":"La valeur renseign\xe9 dans le champ %s n\u2019est pas un %s valide.","antd.form.validation.types.url":" La valeur renseign\xe9 dans le champ %s n\u2019est pas un %s valide.","antd.form.validation.types.hex":" La valeur renseign\xe9 dans le champ %s n\u2019est pas un %s valide.","antd.form.validation.string.len":" La valeur renseign\xe9 dans le champ %s n\u2019est pas un %s valide.","antd.form.validation.string.min":"La champ %s doit avoir au moins %s caract\xe8res.","antd.form.validation.string.max":" La champ %s doit avoir au plus %s caract\xe8res.","antd.form.validation.string.range":"Le champ %s doit avoir entre %s \xe0 %s caract\xe8res.","antd.form.validation.number.len":"%s doit \xeatre \xe9gale \xe0 %s.","antd.form.validation.number.min":"%s ne doit pas \xeatre inf\xe9rieur \xe0 %s.","antd.form.validation.number.max":"%s ne doit pas \xeatre sup\xe9rieur \xe0 %s.","antd.form.validation.number.range":"%s doit \xeatre dans l\u2019intervalle compris entre %s \xe0 %s.","antd.form.validation.array.len":"%s doit avoir exactement %s \xe9l\xe9ments.","antd.form.validation.array.min":"%s ne doit pas avoir moins de %s \xe9l\xe9ments.","antd.form.validation.array.max":"%s ne doit pas avoir plus de %s \xe9l\xe9ments.","antd.form.validation.array.range":"%s doit avoir entre %s \xe0 %s \xe9l\xe9ments.","antd.form.validation.pattern.mismatch":"%s a la valeur %s qui n\u2019est pas conforme \xe0 l\u2019expression r\xe9guli\xe8re %s."}')},296:function(e,t,a){e.exports=a(621)},519:function(e,t,a){},520:function(e,t,a){},521:function(e,t,a){},522:function(e,t,a){},523:function(e,t,a){},525:function(e,t,a){},526:function(e,t,a){},603:function(e,t,a){},604:function(e,t,a){},606:function(e,t,a){},607:function(e,t,a){},608:function(e,t,a){},609:function(e,t,a){},610:function(e,t,a){},611:function(e,t,a){},612:function(e,t,a){},615:function(e,t,a){},616:function(e,t,a){},619:function(e,t,a){},621:function(e,t,a){"use strict";a.r(t),a.d(t,"cubaREST",(function(){return fn}));var n=a(0),r=a.n(n),o=a(11),i=a(48),s=a(26),c=a(17),l=a(25),u=a(14),d=a(13),m=a(27),p=(a(62),a(9)),f=(a(157),a(626)),b=a(199),g=a(10),h=a(20),v=a(630),E=a(286),y=a(52),O=a(633),j=a(3),w=a(15),k=(a(519),a(270)),C=a.n(k),T=a(112),N=(a(520),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleChange=function(e){Object(w.m)().setLocale(e)},e}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(T.a,{defaultValue:Object(w.m)().locale,onChange:this.handleChange,size:"small",style:this.props.style,className:this.props.className},r.a.createElement(T.a.Option,{value:"en"},"English"),r.a.createElement(T.a.Option,{value:"fr"},"Fran\xe7ais"))}}]),a}(r.a.Component));function A(e){var t=e.children;return n.createElement("div",{style:{width:"100vw",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center"}},t)}a(521);var I=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return n.createElement("div",{className:"c-powered-by"},"Powered by",n.createElement("a",{href:"https://softteam.tech"},"SoftTeam tech"))}}]),a}(n.Component),M=a(624),S=a(134),R=(a(522),a(629)),D=a(628),B=a(625),L=function e(){Object(p.a)(this,e)};L.NAME="sys$BaseGenericIdEntity";var P=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).id=void 0,e}return a}(L);P.NAME="sys$BaseUuidEntity";var x=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).version=void 0,e.createTs=void 0,e.createdBy=void 0,e.updateTs=void 0,e.updatedBy=void 0,e.deleteTs=void 0,e.deletedBy=void 0,e}return a}(P);x.NAME="sys$StandardEntity";var _=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).code=void 0,e.firstName=void 0,e.name=void 0,e.lastName=void 0,e.email=void 0,e.phone=void 0,e.registerDate=void 0,e.status=void 0,e.account=void 0,e.previousStatus=void 0,e.marketer=void 0,e.birthDay=void 0,e.passport=void 0,e.placeBirth=void 0,e.registered=void 0,e.user=void 0,e}return a}(x);_.NAME="tagency_Customer";var F,z,U,q,H,V,G,Y,W,K,Q,J,$,Z,X,ee,te,ae,ne,re,oe,ie,se,ce,le,ue,de,me,pe,fe,be={register:function(e,t){return function(a){return e.invokeService("tagency_RegisterService","register",a,t)}},resetPassword:function(e,t){return function(a){return e.invokeService("tagency_RegisterService","resetPassword",a,t)}},getUserName:function(e,t){return function(){return e.invokeService("tagency_RegisterService","getUserName",{},t)}},changePassword:function(e,t){return function(a){return e.invokeService("tagency_RegisterService","changePassword",a,t)}}},ge={loadMessages:function(e,t){return function(a){return e.invokeService("tagency_ChatService","loadMessages",a,t)}},markAsRead:function(e,t){return function(a){return e.invokeService("tagency_ChatService","markAsRead",a,t)}},sendMessage:function(e,t){return function(a){return e.invokeService("tagency_ChatService","sendMessage",a,t)}},getUnreadCountMessage:function(e,t){return function(a){return e.invokeService("tagency_ChatService","getUnreadCountMessage",a,t)}},getConnectedCustomerGroup:function(e,t){return function(){return e.invokeService("tagency_ChatService","getConnectedCustomerGroup",{},t)}},loadNewMessages:function(e,t){return function(a){return e.invokeService("tagency_ChatService","loadNewMessages",a,t)}},isConnectedCustomerMarketerOnline:function(e,t){return function(){return e.invokeService("tagency_ChatService","isConnectedCustomerMarketerOnline",{},t)}}},he=a(18),ve=a.n(he),Ee=Object(h.c)((z=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).registerService=function(e){return be.register(Object(w.k)())({customer:e})},e.dataInstance=Object(w.q)(_.NAME,{view:"customer-view",loadImmediately:!1}),e.fields=["firstName","name","lastName","email","phone","birthDay","placeBirth","passport"],Object(s.a)(e,"globalErrors",U,Object(l.a)(e)),e.reactionDisposer=void 0,Object(s.a)(e,"submited",q,Object(l.a)(e)),Object(s.a)(e,"resgister",H,Object(l.a)(e)),e.major=void 0,e.notMajor=function(t){return t.local().isAfter(e.major)},e.close=function(){return e.props.close(!0)},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return n.createElement(R.a,{title:n.createElement(M.a,{id:"register.title"}),className:"app-register narrow-layout"},n.createElement(v.a,{layout:"horizontal",labelAlign:"left",onSubmit:this.resgister},n.createElement(v.a.Item,{label:n.createElement(M.a,{id:"customer.firstName"})},e("firstName")(n.createElement(E.a,null))),n.createElement(v.a.Item,{label:n.createElement(M.a,{id:"customer.name"})},e("name",{rules:[{required:!0}]})(n.createElement(E.a,null))),n.createElement(v.a.Item,{label:n.createElement(M.a,{id:"customer.lastName"})},e("lastName")(n.createElement(E.a,null))),n.createElement(v.a.Item,{label:n.createElement(M.a,{id:"customer.email"})},e("email",{rules:[{type:"email"}]})(n.createElement(E.a,{type:"email"}))),n.createElement(v.a.Item,{label:n.createElement(M.a,{id:"customer.phone"})},e("phone",{rules:[{required:!0},{message:n.createElement(M.a,{id:"phone.error"}),pattern:/(\+243)\d/}]})(n.createElement(E.a,{type:"tel",placeholder:"+243"}))),n.createElement(v.a.Item,{label:n.createElement(M.a,{id:"customer.birthDay"})},e("birthDay",{})(n.createElement(D.a,{disabledDate:this.notMajor,showToday:!1}))),n.createElement(v.a.Item,{label:n.createElement(M.a,{id:"customer.placeBirth"})},e("placeBirth")(n.createElement(E.a,null))),n.createElement(v.a.Item,{label:n.createElement(M.a,{id:"customer.passport"})},e("passport")(n.createElement(E.a,null))),this.globalErrors.length>0&&n.createElement(B.a,{message:n.createElement(w.f,{lines:Object(j.r)(this.globalErrors)}),type:"error",style:{marginBottom:"24px"}}),n.createElement(v.a.Item,null,n.createElement(y.a,{type:"default",htmlType:"button",style:{float:"left"},onClick:this.close},n.createElement(M.a,{id:"management.editor.cancel"})),n.createElement(y.a,{type:"primary",htmlType:"submit",loading:this.submited,style:{marginLeft:"8px",float:"right"}},n.createElement(M.a,{id:"management.editor.submit"})))))}},{key:"componentDidMount",value:function(){this.major=ve()().subtract(18,"years"),console.debug(this.major)}}]),a}(n.Component),U=Object(m.a)(z.prototype,"globalErrors",[j.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=Object(m.a)(z.prototype,"submited",[j.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),H=Object(m.a)(z.prototype,"resgister",[j.e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.submited=!0,e.props.form.validateFields((function(t){t?O.a.error(e.props.intl.formatMessage({id:"management.editor.validationError"})):e.registerService(e.props.form.getFieldsValue(e.fields)).then((function(){O.a.success(e.props.intl.formatMessage({id:"register.success"})),e.close()})).catch((function(t){t.response&&"function"===typeof t.response.json?t.response.json().then((function(t){Object(w.g)(e.props.form);var a=Object(w.j)(t),n=a.globalErrors,r=a.fieldErrors;e.globalErrors=n,r.size>0&&e.props.form.setFields(Object(w.i)(r,e.props.form)),r.size>0||n.length>0?O.a.error(e.props.intl.formatMessage({id:"management.editor.validationError"})):O.a.error(e.props.intl.formatMessage({id:"management.editor.error"}))})):O.a.error(e.props.intl.formatMessage({id:"management.editor.error"})),e.submited=!1}))}))}}}),F=z))||F,ye=Object(w.p)(Object(S.c)(Object(w.r)({onValuesChange:function(e,t){Object.keys(t).forEach((function(a){e.form.setFields({[a]:{value:t[a]}})}))}})(Ee))),Oe=(a(523),Object(h.c)((G=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).resetService=function(e){return be.resetPassword(Object(w.k)())({login:e})},e.fields=["login"],Object(s.a)(e,"submited",Y,Object(l.a)(e)),Object(s.a)(e,"globalErrors",W,Object(l.a)(e)),e.reactionDisposer=void 0,Object(s.a)(e,"reset",K,Object(l.a)(e)),e.close=function(){return e.props.close(!1)},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return n.createElement(R.a,{title:n.createElement(M.a,{id:"reset.title"}),className:"narrow-layout"},n.createElement(v.a,{layout:"horizontal",labelAlign:"left",onSubmit:this.reset},n.createElement(v.a.Item,{style:{marginBottom:"12px"}},e("login",{rules:[{required:!0}]})(n.createElement(E.a,{placeholder:this.props.intl.formatMessage({id:"login.placeholder.login"}),prefix:n.createElement(g.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),size:"large"}))),this.globalErrors.length>0&&n.createElement(B.a,{message:n.createElement(w.f,{lines:Object(j.r)(this.globalErrors)}),type:"error",style:{marginBottom:"24px"}}),n.createElement(v.a.Item,null,n.createElement(y.a,{type:"default",htmlType:"button",style:{float:"left"},onClick:this.close},n.createElement(M.a,{id:"management.editor.cancel"})),n.createElement(y.a,{type:"primary",htmlType:"submit",disabled:this.submited,loading:this.submited,style:{marginLeft:"8px",float:"right"}},n.createElement(M.a,{id:"management.editor.submit"})))))}}]),a}(n.Component),Y=Object(m.a)(G.prototype,"submited",[j.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),W=Object(m.a)(G.prototype,"globalErrors",[j.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),K=Object(m.a)(G.prototype,"reset",[j.e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.submited=!0,e.props.form.validateFields((function(t){t?O.a.error(e.props.intl.formatMessage({id:"management.editor.validationError"})):e.resetService(e.props.form.getFieldValue("login")).then((function(){O.a.success(e.props.intl.formatMessage({id:"reset.success"})),e.close()})).catch((function(t){t.response&&"function"===typeof t.response.json?t.response.json().then((function(t){Object(w.g)(e.props.form);var a=Object(w.j)(t),n=a.globalErrors,r=a.fieldErrors;e.globalErrors=n,r.size>0&&e.props.form.setFields(Object(w.i)(r,e.props.form)),r.size>0||n.length>0?O.a.error(e.props.intl.formatMessage({id:"management.editor.validationError"})):O.a.error(e.props.intl.formatMessage({id:t.details}))})):O.a.error(e.props.intl.formatMessage({id:"management.editor.error"})),e.submited=!1}))}))}}}),V=G))||V),je=Object(w.p)(Object(S.c)(Object(w.r)({onValuesChange:function(e,t){Object.keys(t).forEach((function(a){e.form.setFields({[a]:{value:t[a]}})}))}})(Oe))),we=(a(524),Object(w.p)(Q=Object(h.c)((J=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={requestingRegister:!1,requestingReset:!1},Object(s.a)(e,"login",$,Object(l.a)(e)),Object(s.a)(e,"password",Z,Object(l.a)(e)),Object(s.a)(e,"performingLoginRequest",X,Object(l.a)(e)),Object(s.a)(e,"changeLogin",ee,Object(l.a)(e)),Object(s.a)(e,"changePassword",te,Object(l.a)(e)),e.register=function(){e.setState({requestingRegister:!0})},e.reset=function(){e.setState({requestingReset:!0})},Object(s.a)(e,"doLogin",ae,Object(l.a)(e)),e.handleClose=function(t){t?e.setState({requestingRegister:!1}):e.setState({requestingReset:!1})},e.handleNewUserMessage=function(e){alert(e)},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this.state,t=e.requestingRegister,a=e.requestingReset;return n.createElement("div",{className:"login-background"},n.createElement(A,null,n.createElement("div",{className:"login-form"},n.createElement("div",{className:"login-title"},n.createElement("img",{src:C.a,alt:this.props.intl.formatMessage({id:"common.alt.logo"}),className:"logo"}),n.createElement("div",{className:"title"},n.createElement(M.a,{id:"home.welcome"})," LLYCIAH Travel!")),t||a?n.createElement(n.Fragment,null,t?n.createElement(ye,{close:this.handleClose}):n.createElement(je,{close:this.handleClose})):n.createElement(v.a,{layout:"vertical",onSubmit:this.doLogin},n.createElement(v.a.Item,null,n.createElement(E.a,{placeholder:this.props.intl.formatMessage({id:"login.placeholder.login"}),onChange:this.changeLogin,value:this.login,prefix:n.createElement(g.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),size:"large"})),n.createElement(v.a.Item,null,n.createElement(E.a,{placeholder:this.props.intl.formatMessage({id:"login.placeholder.password"}),onChange:this.changePassword,value:this.password,type:"password",prefix:n.createElement(g.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),size:"large"})),n.createElement(v.a.Item,null,n.createElement("div",{style:{float:"right"}},n.createElement(N,{className:"language-switcher"}))),n.createElement(v.a.Item,null,n.createElement(y.a,{type:"primary",htmlType:"submit",size:"large",loading:this.performingLoginRequest},n.createElement(M.a,{id:"login.loginBtn"})),n.createElement(y.a,{type:"link",size:"large",htmlType:"button",className:"login-reset",onClick:this.reset},n.createElement(M.a,{id:"login.resetBtn"}))),n.createElement("div",null,n.createElement(M.a,{id:"login.register"})),n.createElement(y.a,{type:"ghost",size:"large",htmlType:"button",className:"login-register",onClick:this.register},n.createElement(M.a,{id:"login.registerBtn"}))),n.createElement(I,null))))}},{key:"componentDidMount",value:function(){}}]),a}(n.Component),$=Object(m.a)(J.prototype,"login",[j.n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=Object(m.a)(J.prototype,"password",[j.n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=Object(m.a)(J.prototype,"performingLoginRequest",[j.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ee=Object(m.a)(J.prototype,"changeLogin",[j.e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.login=t.target.value}}}),te=Object(m.a)(J.prototype,"changePassword",[j.e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.password=t.target.value}}}),ae=Object(m.a)(J.prototype,"doLogin",[j.e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){t.preventDefault(),e.performingLoginRequest=!0,e.props.mainStore.login(e.login,e.password).then(Object(j.e)((function(){e.performingLoginRequest=!1}))).catch(Object(j.e)((function(){e.performingLoginRequest=!1,O.a.error(e.props.intl.formatMessage({id:"login.failed"}))})))}}}),Q=J))||Q)||Q),ke=Object(S.c)(we),Ce=a(631),Te=(a(525),a(271)),Ne=a.n(Te),Ae=(a(526),Object(h.c)((re=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).changeService=function(e,t){return be.changePassword(Object(w.k)())({current:e,password:t})},Object(s.a)(e,"requested",oe,Object(l.a)(e)),Object(s.a)(e,"globalErrors",ie,Object(l.a)(e)),Object(s.a)(e,"change",se,Object(l.a)(e)),Object(s.a)(e,"show",ce,Object(l.a)(e)),Object(s.a)(e,"showDialog",le,Object(l.a)(e)),Object(s.a)(e,"closeDialog",ue,Object(l.a)(e)),e}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return n.createElement(n.Fragment,null,n.createElement(y.a,{className:"panelelement password",icon:"security-scan",onClick:this.showDialog,style:{border:0},htmlType:"button",ghost:!0,title:this.props.intl.formatMessage({id:"password.title"})}),this.show&&n.createElement(Ce.a,{visible:this.show,title:this.props.intl.formatMessage({id:"password.title"}),width:"300px",onCancel:this.closeDialog,onOk:this.change,okText:n.createElement(M.a,{id:"password.change"}),cancelText:n.createElement(M.a,{id:"management.editor.cancel"})},n.createElement(v.a,{layout:"vertical"},n.createElement(v.a.Item,{label:n.createElement(M.a,{id:"password.old"}),style:{marginBottom:"0px"}},e("old",{rules:[{required:!0}]})(n.createElement(E.a,{type:"password"}))),n.createElement(v.a.Item,{label:n.createElement(M.a,{id:"password.new"}),style:{marginBottom:"0px"}},e("new",{rules:[{required:!0}]})(n.createElement(E.a,{type:"password"}))),n.createElement(v.a.Item,{label:n.createElement(M.a,{id:"password.confirm"}),style:{marginBottom:"0px"}},e("confirm",{rules:[{required:!0}]})(n.createElement(E.a,{type:"password"}))))))}}]),a}(n.Component),oe=Object(m.a)(re.prototype,"requested",[j.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ie=Object(m.a)(re.prototype,"globalErrors",[j.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),se=Object(m.a)(re.prototype,"change",[j.e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=e.props.form;e.requested=!0,t.validateFieldsAndScroll((function(a){return a?(O.a.error(e.props.intl.formatMessage({id:"management.editor.validationError"})),void(e.requested=!1)):t.getFieldValue("new")===t.getFieldValue("old")?(O.a.error(e.props.intl.formatMessage({id:"password.same"})),void(e.requested=!1)):t.getFieldValue("new")!==t.getFieldValue("confirm")?(O.a.error(e.props.intl.formatMessage({id:"password.different"})),void(e.requested=!1)):void e.changeService(e.props.form.getFieldValue("old"),e.props.form.getFieldValue("new")).then((function(){O.a.success(e.props.intl.formatMessage({id:"password.success"})),e.closeDialog()})).catch((function(t){t.response&&"function"===typeof t.response.json?t.response.json().then((function(t){Object(w.g)(e.props.form);var a=Object(w.j)(t),n=a.globalErrors,r=a.fieldErrors;e.globalErrors=n,r.size>0&&e.props.form.setFields(Object(w.i)(r,e.props.form)),r.size>0||n.length>0?O.a.error(e.props.intl.formatMessage({id:"management.editor.validationError"})):O.a.error(e.props.intl.formatMessage({id:t.details}))})):O.a.error(e.props.intl.formatMessage({id:"management.editor.error"})),e.requested=!1}))}))}}}),ce=Object(m.a)(re.prototype,"show",[j.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),le=Object(m.a)(re.prototype,"showDialog",[j.e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.show=!0}}}),ue=Object(m.a)(re.prototype,"closeDialog",[j.e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){return e.show=!1}}}),ne=re))||ne),Ie=Object(w.p)(Object(S.c)(Object(w.r)({onValuesChange:function(e,t){Object.keys(t).forEach((function(a){e.form.setFields({[a]:{value:t[a]}})}))}})(Ae))),Me=Object(w.p)(de=Object(h.c)((me=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),Object(s.a)(e,"userName",pe,Object(l.a)(e)),e.showLogoutConfirm=function(){Ce.a.confirm({title:e.props.intl.formatMessage({id:"header.logout.areYouSure"}),okText:e.props.intl.formatMessage({id:"header.logout.ok"}),cancelText:e.props.intl.formatMessage({id:"header.logout.cancel"}),onOk:function(){e.props.mainStore.logout()}})},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props.mainStore;return n.createElement("div",{className:"app-header"},n.createElement("div",{style:{textAlign:"center",verticalAlign:"middle"}},n.createElement("img",{className:"app-logo",src:Ne.a,alt:this.props.intl.formatMessage({id:"common.alt.logo"})}),n.createElement("span",{className:"app-user"},this.userName)),n.createElement("div",{className:"user-panel"},n.createElement(N,{className:"panelelement language-switcher -header"}),n.createElement("span",{className:"panelelement",style:{display:"none"}},e.userName),n.createElement(Ie,null),n.createElement(y.a,{className:"panelelement",ghost:!0,icon:"logout",style:{border:0},onClick:this.showLogoutConfirm})))}},{key:"componentDidMount",value:function(){var e=this;be.getUserName(Object(w.k)())().then(Object(j.e)((function(t){return e.userName=t})))}}]),a}(n.Component),pe=Object(m.a)(me.prototype,"userName",[j.n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),de=me))||de)||de,Se=Object(S.c)(Me),Re=a(627),De=a(637),Be=a(291),Le=a(273),Pe=a.n(Le),xe=a(147),_e=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return n.createElement("div",{style:{textAlign:"center",verticalAlign:"middle"}},n.createElement(xe.Zoom,null,n.createElement("img",{src:Pe.a,alt:"Llyciah Logo",style:{objectFit:"contain",fontFamily:"object-fit: contain;",objectPosition:"center",boxSizing:"border-box",display:"inline-block",width:"40%",height:"40%"}})))}}]),a}(n.Component),Fe=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).service=void 0,e.amount=void 0,e.name=void 0,e.description=void 0,e}return a}(x);Fe.NAME="tagency_Price";var ze,Ue=Object(h.c)(fe=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).dataCollection=Object(w.h)(Fe.NAME,{view:"price-view",sort:"-updateTs"}),e.fields=["service","description","amount"],e}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.dataCollection,a=t.status,r=t.items;return"LOADING"===a?n.createElement(g.a,{type:"spin"}):n.createElement("div",{className:"narrow-layout"},r.map((function(t){return n.createElement(R.a,{title:t.name,key:t.id,style:{marginBottom:"12px"}},e.fields.map((function(e){return n.createElement(w.c,{entityName:Fe.NAME,propertyName:e,value:t[e],key:e})})))})))}}]),a}(n.Component))||fe,qe=a(197),He=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).label=void 0,e.invoice=void 0,e.booking=void 0,e.description=void 0,e.type=void 0,e.amount=void 0,e.marketer=void 0,e.approved=void 0,e.settlement=void 0,e.debtor=void 0,e.creditor=void 0,e.service=void 0,e.reference=void 0,e.valueDate=void 0,e.related=void 0,e.deadline=void 0,e}return a}(x);He.NAME="tagency_Transction";var Ve,Ge,Ye,We,Ke=Object(h.c)(ze=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).dataInstance=Object(w.q)(He.NAME,{view:"transction-view",loadImmediately:!1}),e.fields=["reference","booking","label","description","type","service","amount","deadline","marketer"],e}return Object(c.a)(a,[{key:"render",value:function(){var e=this.dataInstance.item,t=void 0==e;return n.createElement(R.a,{className:"narrow-layout",loading:t},n.createElement(n.Fragment,null,!t&&this.fields.map((function(t){return n.createElement(w.c,{entityName:He.NAME,propertyName:t,value:e[t],key:t})}))),n.createElement("div",{style:{textAlign:"center"}},n.createElement(qe.a,{to:et.PATH},n.createElement(y.a,{htmlType:"button"},n.createElement(M.a,{id:"management.editor.close"})))))}},{key:"componentDidMount",value:function(){this.props.entityId!==et.NEW_SUBPATH&&this.dataInstance.load(this.props.entityId)}}]),a}(n.Component))||ze,Qe=Object(S.c)(Ke),Je=a(145),$e=a(635),Ze=Object(w.p)(Ve=Object(h.c)(Ve=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).dataCollection=Object(w.h)(He.NAME,{view:"transction-view",sort:"-updateTs"}),e.fields=["createdTs","valueDate","reference","label","type","service","amount"],e}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.dataCollection,a=t.status,r=t.items;return"LOADING"===a?n.createElement("div",{style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)"}},n.createElement(Je.a,{size:"large"})):n.createElement("div",{className:"narrow-layout"},n.createElement($e.a,{itemLayout:"horizontal",bordered:!0,dataSource:r,renderItem:function(t){return n.createElement($e.a.Item,{actions:[n.createElement(qe.a,{hidden:!0,to:et.PATH+"/"+t.id,key:"view"},n.createElement(g.a,{type:"read"}))]},n.createElement("div",{style:{flexGrow:1}},e.fields.map((function(e){return n.createElement(w.c,{entityName:He.NAME,propertyName:e,value:t[e],key:e})}))))}}))}}]),a}(n.Component))||Ve)||Ve,Xe=Object(S.c)(Ze),et=Object(h.c)((We=Ye=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props.match.params.entityId;return n.createElement(n.Fragment,null,e?n.createElement(Qe,{entityId:e}):n.createElement(Xe,null))}}]),a}(n.Component),Ye.PATH="/transctionManagement",Ye.NEW_SUBPATH="new",Ge=We))||Ge,tt=a(632),at=a(636),nt=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).code=void 0,e.customer=void 0,e.service=void 0,e.transaction=void 0,e.reason=void 0,e.information=void 0,e.status=void 0,e.branch=void 0,e}return a}(x);nt.NAME="tagency_Booking";var rt=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).type=void 0,e.name=void 0,e.active=void 0,e.description=void 0,e}return a}(x);rt.NAME="tagency_Service";var ot=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).name=void 0,e.location=void 0,e.users=void 0,e.account=void 0,e.active=void 0,e.approved=void 0,e}return a}(x);ot.NAME="tagency_Branch";var it,st,ct,lt,ut,dt,mt,pt,ft,bt,gt,ht,vt,Et,yt,Ot,jt=a(275),wt=a.n(jt);!function(e){e.Customer="Customer",e.Bank="Bank",e.Main="Main",e.Provider="Provider",e.Other="Other"}(it||(it={})),function(e){e.DRAFT="DRAFT",e.SUBMITTED="SUBMITTED",e.ACCEPTED="ACCEPTED",e.REFUSED="REFUSED"}(st||(st={})),function(e){e.DRAFT="DRAFT",e.SUBMITTED="SUBMITTED",e.APPROVED="APPROVED",e.REFUSED="REFUSED",e.PROCESSING="PROCESSING",e.COMPLETED="COMPLETED"}(ct||(ct={})),function(e){e.CUSTOMER="CUSTOMER",e.EMPLOYEE="EMPLOYEE",e.GENERAL_INSTRUCTION="GENERAL_INSTRUCTION",e.PROCEDURE_MANUAL="PROCEDURE_MANUAL",e.PRINTED="PRINTED",e.VISA_APPLICATION="VISA_APPLICATION"}(lt||(lt={})),function(e){e.FLY="FLY",e.TOURISM="TOURISM",e.INSURANCE="INSURANCE",e.HOTEL="HOTEL",e.CAR="CAR",e.VISA="VISA",e.PvcCard="PvcCard",e.Hostess="Hostess"}(ut||(ut={})),function(e){e.NEW="NEW",e.DRAFT="DRAFT",e.WAIT_DELETION="WAIT_DELETION",e.DELETED="DELETED",e.WAIT_ACTIVATION="WAIT_ACTIVATION",e.ACTIVE="ACTIVE",e.WAIT_INACTIVATION="WAIT_INACTIVATION",e.INACTIVE="INACTIVE",e.UPDATED="UPDATED"}(dt||(dt={})),function(e){e.Deposit="Deposit",e.Settlement="Settlement",e.Withdraw="Withdraw",e.Other="Other",e.Purchase="Purchase",e.Customer="Customer",e.Reversal="Reversal",e.Liquidity="Liquidity",e.Balance="Balance"}(mt||(mt={})),function(e){e.WAIT="WAIT",e.APPROVED="APPROVED",e.RECEIVED="RECEIVED",e.END="END"}(pt||(pt={}));var kt,Ct,Tt,Nt,At,It,Mt,St,Rt,Dt,Bt=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).fields=["createTs","reason","information","service","branch","status"],e}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props.booking;return void 0===e?null:n.createElement("div",null,n.createElement(n.Fragment,null,e.status!==ct.DRAFT&&n.createElement(w.c,{entityName:nt.NAME,propertyName:"code",value:e.code,key:"code"})),n.createElement(n.Fragment,null,this.fields.map((function(t){return n.createElement(w.c,{entityName:nt.NAME,propertyName:t,value:e[t],key:t})}))),n.createElement(n.Fragment,null,e.status===ct.COMPLETED&&n.createElement(w.c,{entityName:nt.NAME,propertyName:"transaction",value:e.transaction,key:"transaction"})))}}]),a}(n.Component),Lt=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return n.createElement(qe.a,{to:Ut.PATH},n.createElement(y.a,{htmlType:"button"},n.createElement(M.a,{id:this.props.lableId})))}}]),a}(n.Component),Pt=Object(w.p)(ft=Object(h.c)((bt=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),Object(s.a)(e,"dataCollection",gt,Object(l.a)(e)),e.onChange=function(t){e.props.onChange&&e.props.onChange({id:t[1]})},e.buildServierTree=function(){var t=Object(w.o)("type",rt.NAME,e.props.mainStore.metadata),a=e.props.mainStore.enums,n={};e.dataCollection.items.forEach((function(e){var t=e.type,a=n[t];void 0===a?(a=[e],n[t]=a):a.push(e)}));var r=[];return Object.keys(n).forEach((function(e){var o=[],i=n[e];for(var s in i){var c=i[s];o.push({value:c.id,label:c.name})}r.push({label:Object(w.l)(e,t,a),value:e,children:o})})),r},e.filter=function(e,t,a){return t.some((function(t){return t.label.toLowerCase().indexOf(e.toLowerCase())>-1}))},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this.dataCollection;if("DONE"===e.status){var t=this.props.value;return t&&(t.id&&(t=t.id),(t=e.items.find((function(e){return e.id==t})))&&(t=[t.type,t.id])),n.createElement(tt.a,{showSearch:{filter:this.filter},value:t,options:this.buildServierTree(),onChange:this.onChange})}return null}}]),a}(n.Component),gt=Object(m.a)(bt.prototype,"dataCollection",[j.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.props.dataCollection}}),ft=bt))||ft)||ft,xt=Object(h.c)(ht=Object(w.p)((vt=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).dataInstance=Object(w.q)(nt.NAME,{view:"booking-customer-view",loadImmediately:!1}),n.servicesDc=Object(w.h)(rt.NAME,{view:"_minimal"}),n.branchsDc=Object(w.h)(ot.NAME,{view:"_minimal"}),n.update=function(){return n.setState({updated:!0})},n.reactionDisposer=void 0,n.fields=["reason","information","service","branch"],Object(s.a)(n,"globalErrors",Et,Object(l.a)(n)),n.handleSubmit=function(e){e.preventDefault(),n.props.form.validateFields((function(e,t){e?O.a.error(n.props.intl.formatMessage({id:"management.editor.validationError"})):n.dataInstance.update(n.props.form.getFieldsValue(n.fields)).then((function(){O.a.success(n.props.intl.formatMessage({id:"management.editor.success"})),n.update()})).catch((function(e){e.response&&"function"===typeof e.response.json?e.response.json().then((function(e){Object(w.g)(n.props.form);var t=Object(w.j)(e),a=t.globalErrors,r=t.fieldErrors;n.globalErrors=a,r.size>0&&n.props.form.setFields(Object(w.i)(r,n.props.form)),r.size>0||a.length>0?O.a.error(n.props.intl.formatMessage({id:"management.editor.validationError"})):O.a.error(n.props.intl.formatMessage({id:"management.editor.error"}))})):O.a.error(n.props.intl.formatMessage({id:"management.editor.error"}))}))}))},Object(s.a)(n,"submited",yt,Object(l.a)(n)),Object(s.a)(n,"confirm",Ot,Object(l.a)(n)),n.state={updated:!1},n}return Object(c.a)(a,[{key:"render",value:function(){if(!0===this.state.updated)return n.createElement(at.a,{to:Ut.PATH});var e=this.dataInstance.status,t=this.dataInstance.item,a="DONE"===e&&t.status===ct.DRAFT;return n.createElement(R.a,{className:"narrow-layout"},this.props.readonly?n.createElement("div",null,n.createElement(Bt,{booking:t}),n.createElement("div",{style:{marginTop:"12px"}},n.createElement(Lt,{lableId:"management.editor.close"}),n.createElement(y.a,{hidden:!a,loading:this.submited,type:"primary",htmlType:"button",style:{marginLeft:"8px"},onClick:this.confirm},n.createElement(M.a,{id:"booking.submit"})))):n.createElement(v.a,{onSubmit:this.handleSubmit,layout:"vertical"},n.createElement(w.d,{entityName:nt.NAME,propertyName:"reason",form:this.props.form,formItemOpts:{style:{marginBottom:"12px"}},getFieldDecoratorOpts:{rules:[{required:!0,max:20}]}}),n.createElement(v.a.Item,{label:n.createElement(w.e,{propertyName:"information",entityName:nt.NAME,key:"information"}),style:{marginBottom:"12px"}},this.props.form.getFieldDecorator("information")(n.createElement(wt.a,null))),n.createElement(v.a.Item,{label:n.createElement(w.e,{propertyName:"service",entityName:nt.NAME,key:"service"}),style:{marginBottom:"12px"}},this.props.form.getFieldDecorator("service",{rules:[{required:!0}]})(n.createElement(Pt,{dataCollection:this.servicesDc}))),n.createElement(w.d,{entityName:nt.NAME,propertyName:"branch",form:this.props.form,formItemOpts:{style:{marginBottom:"12px"}},optionsContainer:this.branchsDc,getFieldDecoratorOpts:{rules:[{required:!0}]}}),this.globalErrors.length>0&&n.createElement(B.a,{message:n.createElement(w.f,{lines:Object(j.r)(this.globalErrors)}),type:"error",style:{marginBottom:"24px"}}),n.createElement(v.a.Item,{style:{textAlign:"center"}},n.createElement(Lt,{lableId:"management.editor.cancel"}),n.createElement(y.a,{type:"primary",htmlType:"submit",disabled:"DONE"!==e&&"ERROR"!==e,loading:"LOADING"===e,style:{marginLeft:"8px"}},n.createElement(M.a,{id:"management.editor.submit"})))))}},{key:"componentDidMount",value:function(){var e=this;this.props.entityId!==Ut.NEW_SUBPATH?this.dataInstance.load(this.props.entityId):this.dataInstance.setItem(new nt),this.reactionDisposer=Object(j.o)((function(){return e.dataInstance.item}),(function(){e.props.form.setFieldsValue(e.dataInstance.getFieldValues(e.fields))}))}},{key:"componentWillUnmount",value:function(){this.reactionDisposer()}}]),a}(n.Component),Et=Object(m.a)(vt.prototype,"globalErrors",[j.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),yt=Object(m.a)(vt.prototype,"submited",[j.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ot=Object(m.a)(vt.prototype,"confirm",[j.e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){Ce.a.confirm({title:e.props.intl.formatMessage({id:"booking.submit.areYouSure"},{instanceName:e.dataInstance.item._instanceName}),okText:e.props.intl.formatMessage({id:"booking.submit.areYouSure.ok"}),cancelText:e.props.intl.formatMessage({id:"booking.submit.areYouSure.cancel"}),onOk:function(){return e.submited=!0,e.dataInstance.update({status:ct.SUBMITTED}).then((function(){O.a.success(e.props.intl.formatMessage({id:"booking.success"})),e.update()})).catch((function(){O.a.error(e.props.intl.formatMessage({id:"booking.error"})),e.submited=!1}))}})}}}),ht=vt))||ht)||ht,_t=Object(S.c)(Object(w.r)({onValuesChange:function(e,t){Object.keys(t).forEach((function(a){e.form.setFields({[a]:{value:t[a]}})}))}})(xt)),Ft=Object(w.p)(kt=Object(h.c)((Ct=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).dataCollection=Object(w.h)(nt.NAME,{view:"booking-customer-view",sort:"-createTs"}),e.fields=["createTs","code","reason","service","branch","status"],Object(s.a)(e,"selectedRowKey",Tt,Object(l.a)(e)),e.showDeletionDialog=function(t){Ce.a.confirm({title:e.props.intl.formatMessage({id:"management.browser.delete.areYouSure"},{instanceName:t._instanceName}),okText:e.props.intl.formatMessage({id:"management.browser.delete.ok"}),cancelText:e.props.intl.formatMessage({id:"management.browser.delete.cancel"}),onOk:function(){return e.selectedRowKey=void 0,e.dataCollection.delete(t)}})},e.isSelectedDraft=function(){return void 0!=e.selectedRowKey&&e.getRecordById(e.selectedRowKey).status===ct.DRAFT},e.reserve=function(){var t=e.getRecordById(e.selectedRowKey);Ce.a.confirm({title:e.props.intl.formatMessage({id:"booking.submit.areYouSure"},{instanceName:t._instanceName}),okText:e.props.intl.formatMessage({id:"booking.submit.areYouSure.ok"}),cancelText:e.props.intl.formatMessage({id:"booking.submit.areYouSure.cancel"}),onOk:function(){return Object(w.k)().commitEntity(nt.NAME,{id:t.id,status:ct.SUBMITTED}).then((function(t){O.a.success(e.props.intl.formatMessage({id:"booking.success"})),e.dataCollection.load()})).catch((function(){O.a.error(e.props.intl.formatMessage({id:"booking.error"}))}))}})},e.handleRowSelectionChange=function(t){e.selectedRowKey=t[0]},e.deleteSelectedRow=function(){e.showDeletionDialog(e.getRecordById(e.selectedRowKey))},e}return Object(c.a)(a,[{key:"render",value:function(){var e=[n.createElement(qe.a,{to:Ut.PATH+"/edit/"+Ut.NEW_SUBPATH,key:"create"},n.createElement(y.a,{htmlType:"button",style:{margin:"0 12px 12px 0"},type:"primary",icon:"plus"},n.createElement("span",null,n.createElement(M.a,{id:"management.browser.create"})))),n.createElement(qe.a,{to:Ut.PATH+"/edit/"+this.selectedRowKey,key:"edit"},n.createElement(y.a,{htmlType:"button",style:{margin:"0 12px 12px 0"},disabled:!this.isSelectedDraft(),type:"default"},n.createElement(M.a,{id:"management.browser.edit"}))),n.createElement(qe.a,{to:Ut.PATH+"/view/"+this.selectedRowKey,key:"open"},n.createElement(y.a,{htmlType:"button",style:{margin:"0 12px 12px 0"},disabled:!this.selectedRowKey,type:"default"},n.createElement(M.a,{id:"management.browser.open"}))),n.createElement(y.a,{htmlType:"button",style:{margin:"0 12px 12px 0"},disabled:!this.isSelectedDraft(),type:"primary",onClick:this.reserve},n.createElement(M.a,{id:"booking.submit"})),n.createElement(y.a,{htmlType:"button",style:{margin:"0 12px 12px 0"},disabled:!this.isSelectedDraft(),onClick:this.deleteSelectedRow,key:"remove",type:"default"},n.createElement(M.a,{id:"management.browser.remove"}))];return n.createElement(w.b,{dataCollection:this.dataCollection,fields:this.fields,onRowSelectionChange:this.handleRowSelectionChange,hideSelectionColumn:!0,buttons:e})}},{key:"getRecordById",value:function(e){var t=this.dataCollection.items.find((function(t){return t.id===e}));if(!t)throw new Error("Cannot find entity with id "+e);return t}}]),a}(n.Component),Tt=Object(m.a)(Ct.prototype,"selectedRowKey",[j.n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kt=Ct))||kt)||kt,zt=Object(S.c)(Ft),Ut=Object(h.c)((It=At=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props.match.params,t=e.entityId,a=e.action;return n.createElement(n.Fragment,null,t?n.createElement(_t,{readonly:"view"===a,entityId:t}):n.createElement(zt,null))}}]),a}(n.Component),At.PATH="/bookingManagement",At.NEW_SUBPATH="new",Nt=It))||Nt,qt={loadCustomerInformation:function(e,t){return function(){return e.query("tagency_Customer","loadCustomerInformation",{},t)}},loadCustomerInformationCount:function(e,t){return function(){return e.queryCount("tagency_Customer","loadCustomerInformation",{},t)}},loadCustomerInformationWithCount:function(e,t){return function(){return e.queryWithCount("tagency_Customer","loadCustomerInformation",{},t)}}},Ht=Object(h.c)((St=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).customer=void 0,e.fields=["code","firstName","name","lastName","email","phone","passport","registerDate","marketer","birthDay","placeBirth"],Object(s.a)(e,"loading",Rt,Object(l.a)(e)),Object(s.a)(e,"error",Dt,Object(l.a)(e)),e.data=void 0,e}return Object(c.a)(a,[{key:"render",value:function(){var e=this;if(!0===this.error)return O.a.error(this.props.intl.formatMessage({id:"information.failed"})),null;this.loading;return n.createElement(R.a,{className:"narrow-layout",loading:this.loading,title:n.createElement(M.a,{id:"information.title"})},!this.loading&&this.fields.map((function(t){return n.createElement(w.c,{entityName:_.NAME,propertyName:t,value:e.data[t],key:t})})))}},{key:"componentDidMount",value:function(){var e=this;qt.loadCustomerInformation(Object(w.k)())().then(Object(j.e)((function(t){e.data=t[0],e.loading=!1}))).catch(Object(j.e)((function(){e.error=!0})))}}]),a}(n.Component),Rt=Object(m.a)(St.prototype,"loading",[j.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Dt=Object(m.a)(St.prototype,"error",[j.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Mt=St))||Mt,Vt=Object(S.c)(Ht),Gt=Object(w.n)();Gt.push({pathPattern:"/information",menuLink:"/information",component:Vt,caption:"Information"}),Gt.push({pathPattern:"/bookingManagement/:action?/:entityId?",menuLink:"/bookingManagement",component:Ut,caption:"BookingManagement"}),Gt.push({pathPattern:"/transctionManagement/:entityId?",menuLink:"/transctionManagement",component:et,caption:"TransctionManagement"}),Gt.push({pathPattern:"/priceCards",menuLink:"/priceCards",component:Ue,caption:"PriceCards"});var Yt=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return n.createElement(A,null,n.createElement(g.a,{type:"loading",style:{fontSize:24},spin:!0}))}}]),a}(n.Component),Wt=a(111),Kt=a(46),Qt=function(e,t,a){return e[a.type]?e[a.type](t,a):t},Jt=Object(Kt.Map)({showChat:!1,disabledInput:!1,msgLoader:!1,pulse:0,disabledButton:!0}),$t={"BEHAVIOR/TOGGLE_CHAT":function(e){return e.update("showChat",(function(e){return!e}))},"BEHAVIOR/NOTIFY_CONNECTED":function(e){return e.update("pulse",(function(e){return e+1}))},"BEHAVIOR/NOTIFY_DISCONNECTED":function(e){return e.update("pulse",(function(e){return 0}))},"BEHAVIOR/TOGGLE_INPUT_DISABLED":function(e){return e.update("disabledInput",(function(e){return!e}))},"BEHAVIOR/TOGGLE_BUTTON_DISABLED":function(e){return e.update("disabledButton",(function(e){return!e}))},"BEHAVIOR/ENABLE_INPUT":function(e){return e.update("disabledInput",(function(e){return!1}))},"BEHAVIOR/DISABLE_INPUT":function(e){return e.update("disabledInput",(function(e){return!0}))},"BEHAVIOR/TOGGLE_MSG_LOADER":function(e){return e.update("msgLoader",(function(e){return!e}))}},Zt=a(1),Xt=a.n(Zt),ea=a(106),ta=a.n(ea),aa="client",na="response",ra="text",oa={LINK:"snippet"},ia="component",sa=(ta.a.contains({type:Xt.a.oneOf([ra,oa.LINK]),text:Xt.a.string,sender:Xt.a.oneOf([aa,na])}),ta.a.contains({type:Xt.a.oneOf([ra,oa.LINK]),title:Xt.a.string,link:Xt.a.string,sender:Xt.a.oneOf([aa,na])}),a(276)),ca=a.n(sa),la=a(277),ua=a.n(la),da=a(278),ma=a.n(da),pa=a(279),fa=a.n(pa),ba=(a(603),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=ca()({breaks:!0}).use(ua.a).use(ma.a).use(fa.a,{attrs:{target:"_blank",rel:"noopener"}}).render(this.props.message.get("text"));return r.a.createElement("div",{className:"rcw-".concat(this.props.message.get("sender"))},r.a.createElement("div",{className:"rcw-message-text",dangerouslySetInnerHTML:{__html:e}}))}}]),a}(n.PureComponent)),ga=(a(604),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"rcw-snippet"},r.a.createElement("h5",{className:"rcw-snippet-title"},this.props.message.get("title")),r.a.createElement("div",{className:"rcw-snippet-details"},r.a.createElement("a",{href:this.props.message.get("link"),target:this.props.message.get("target"),className:"rcw-link"},this.props.message.get("link"))))}}]),a}(n.PureComponent)),ha=a(47),va=(a(606),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).getComponentToRender=n.getComponentToRender.bind(Object(l.a)(n)),n}return Object(c.a)(a,[{key:"getComponentToRender",value:function(e){var t=e.get("component");return r.a.createElement(t,{onQuickButtonClicked:this.props.onQuickButtonClicked,button:e})}},{key:"render",value:function(){var e=this;return this.props.buttons.size?r.a.createElement("div",{className:"quick-buttons-container"},r.a.createElement("ul",{className:"quick-buttons"},this.props.buttons.map((function(t,a){return r.a.createElement("li",{className:"quick-list-button",key:a},e.getComponentToRender(t))})))):null}}]),a}(n.Component)),Ea=Object(ha.b)((function(e){return{buttons:e.quickButtons}}))(va);function ya(e,t){return Object(Kt.Map)({type:ra,component:ba,text:e,sender:t,showAvatar:t===na})}function Oa(e){if(e){var t=e.clientHeight,a=e.scrollTop,n=e.scrollHeight-(a+t);n&&function(e,t,a){var n=window.webkitRequestAnimationFrame||window.requestAnimationFrame,r=null;n((function o(i){r||(r=i);var s,c=a*((s=(s=i-r)/400-1)*s*s+1)+0,l=t+c;e.scrollTop=l,l<t+a&&n(o)}))}(e,a,n)}}var ja=Object(Kt.List)([]),wa={"MESSAGES/ADD_NEW_USER_MESSAGE":function(e,t){var a=t.text;return e.push(ya(a,aa))},"MESSAGES/ADD_NEW_RESPONSE_MESSAGE":function(e,t){var a=t.text;return e.push(ya(a,na))},"MESSAGES/ADD_NEW_LINK_SNIPPET":function(e,t){var a=t.link;return e.push(function(e){return Object(Kt.Map)({type:oa.LINK,component:ga,title:e.title,link:e.link,target:e.target||"_blank",sender:na,showAvatar:!0})}(a))},"MESSAGES/ADD_COMPONENT_MESSAGE":function(e,t){var a=t.component,n=t.props,r=t.showAvatar;return e.push(function(e,t,a){return Object(Kt.Map)({type:ia,component:e,props:t,sender:na,showAvatar:a})}(a,n,r))},"MESSAGES/DROP_MESSAGES":function(){return Object(Kt.List)([])},"MESSAGES/HIDE_AVATAR":function(e,t){var a=t.index;return e.update(a,(function(e){return e.set("showAvatar",!1)}))}},ka=Object(Kt.List)([]),Ca={SET_QUICK_BUTTONS:function(e,t){return Object(Kt.List)(t.buttons.map((function(e){return function(e){return Object(Kt.Map)({component:Ea,label:e.label,value:e.value})}(e)})))}},Ta=Object(Wt.b)({behavior:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jt,t=arguments.length>1?arguments[1]:void 0;return Qt($t,e,t)},messages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ja,t=arguments.length>1?arguments[1]:void 0;return Qt(wa,e,t)},quickButtons:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ka,t=arguments.length>1?arguments[1]:void 0;return Qt(Ca,e,t)}}),Na=Object(Wt.c)(Ta,"");function Aa(e){Na.dispatch(function(e){return{type:"MESSAGES/ADD_NEW_USER_MESSAGE",text:e.trim()}}(e))}function Ia(){Na.dispatch({type:"BEHAVIOR/ENABLE_INPUT"})}var Ma,Sa,Ra,Da,Ba,La,Pa,xa,_a=a(281),Fa=a.n(_a),za=a(149),Ua=a.n(za),qa=(a(607),function(e){var t=e.badge;return t>0&&r.a.createElement("span",{className:"rcw-badge"},t)}),Ha=(a(608),Object(ha.b)((function(e){return{chatOpened:e.behavior.get("showChat")}}))((function(e){var t=e.toggle,a=e.chatOpened,n=e.badge;return r.a.createElement(xe.Bounce,null,r.a.createElement("button",{type:"button",className:a?"rcw-launcher rcw-hide-sm":"rcw-launcher",onClick:t},r.a.createElement(qa,{badge:n}),a?r.a.createElement("img",{src:Ua.a,className:"rcw-close-launcher",alt:""}):r.a.createElement("img",{src:Fa.a,className:"rcw-open-launcher",alt:""})))}))),Va=(a(609),a(610),function(e){var t=e.title,a=e.subtitle,n=e.toggleChat,o=e.showCloseButton,i=e.titleAvatar;return r.a.createElement("div",{className:"rcw-header"},o&&r.a.createElement("button",{className:"rcw-close-button",onClick:n},r.a.createElement("img",{src:Ua.a,className:"rcw-close",alt:"close"})),r.a.createElement("h4",{className:"rcw-title"},i&&r.a.createElement("img",{src:i,className:"avatar",alt:"profile"}),t),r.a.createElement("span",null,a))}),Ga=(a(611),function(e){return r.a.createElement("div",{className:"loader ".concat(e.typing&&"active")},r.a.createElement("div",{className:"loader-container"},r.a.createElement("span",{className:"loader-dots"}),r.a.createElement("span",{className:"loader-dots"}),r.a.createElement("span",{className:"loader-dots"})))}),Ya=(a(612),a(613),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).$message=null,e.getComponentToRender=function(t){var a=t.get("component");e.props.messages.get();return"component"===t.get("type")?r.a.createElement(a,t.get("props")):r.a.createElement(a,{message:t})},e.shouldRenderAvatar=function(t,a){var n=e.props.messages.get(a-1);t.get("showAvatar")&&n.get("showAvatar")&&e.props.dispatch({type:"MESSAGES/HIDE_AVATAR"})},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){Oa(this.$message)}},{key:"componentDidUpdate",value:function(){Oa(this.$message)}},{key:"render",value:function(){var e=this,t=this.props,a=t.messages,n=t.profileAvatar,o=t.typing;return r.a.createElement("div",{id:"messages",className:"rcw-messages-container",ref:function(t){return e.$message=t},ref:function(t){return e.scrollParentRef=t}},a.map((function(t,a){return r.a.createElement("div",{className:"rcw-message",key:a},n&&t.get("showAvatar")&&r.a.createElement("img",{src:n,className:"rcw-avatar",alt:"profile"}),e.getComponentToRender(t))})),r.a.createElement(Ga,{typing:o}))}}]),a}(n.Component)),Wa=Object(ha.b)((function(e){return{messages:e.messages,typing:e.behavior.get("msgLoader")}}))(Ya),Ka=a(282),Qa=a.n(Ka),Ja=(a(615),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).input=r.a.createRef(),n.onChange=function(e){var t=e.target.value;null!=t&&t.trim().length>0?n.state.buttonDisabled&&n.toggeButtonDisabled():n.state.buttonDisabled||n.toggeButtonDisabled()},n.toggeButtonDisabled=function(){return n.setState((function(e,t){return{buttonDisabled:!e.buttonDisabled}}))},n.onSubmit=function(e){n.toggeButtonDisabled(),n.props.sendMessage(e)},n.state={buttonDisabled:!0},n}return Object(c.a)(a,[{key:"componentDidUpdate",value:function(){this.input.current.focus()}},{key:"render",value:function(){var e=this.props,t=e.placeholder,a=e.disabledInput,n=e.autofocus;return r.a.createElement("form",{className:"rcw-sender",onSubmit:this.onSubmit},r.a.createElement("textarea",{type:"text",className:"rcw-new-message",name:"message",onChange:this.onChange,placeholder:t,disabled:a,autoFocus:n,autoComplete:"off",ref:this.input}),r.a.createElement("button",{type:"submit",className:"rcw-send",disabled:this.state.buttonDisabled},r.a.createElement("img",{src:Qa.a,className:"rcw-send-icon",alt:"send"})))}}]),a}(n.Component)),$a=(a(616),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"rcw-conversation-container"},r.a.createElement(Va,{title:this.props.title,subtitle:this.props.subtitle,toggleChat:this.props.toggleChat,showCloseButton:this.props.showCloseButton,titleAvatar:this.props.titleAvatar}),r.a.createElement(Wa,{profileAvatar:this.props.profileAvatar}),r.a.createElement(Ea,{onQuickButtonClicked:this.props.onQuickButtonClicked}),r.a.createElement(Ja,{sendMessage:this.props.sendMessage,placeholder:this.props.senderPlaceHolder,disabledInput:this.props.disabledInput,autofocus:this.props.autofocus}))}}]),a}(r.a.Component)),Za=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"rcw-widget-container ".concat(this.props.fullScreenMode?"rcw-full-screen":""," ").concat(this.props.showChat?"rcw-opened":"")},this.props.showChat&&r.a.createElement($a,{title:this.props.title,subtitle:this.props.subtitle,sendMessage:this.props.onSendMessage,senderPlaceHolder:this.props.senderPlaceHolder,onQuickButtonClicked:this.props.onQuickButtonClicked,profileAvatar:this.props.profileAvatar,toggleChat:this.props.onToggleConversation,showCloseButton:this.props.showCloseButton,disabledInput:this.props.disabledInput,autofocus:this.props.autofocus,titleAvatar:this.props.titleAvatar}),this.props.customLauncher?this.props.customLauncher(this.props.onToggleConversation):!this.props.fullScreenMode&&r.a.createElement(Ha,{toggle:this.props.onToggleConversation,badge:this.props.badge}))}}]),a}(r.a.Component),Xa=Object(ha.b)((function(e){return{showChat:e.behavior.get("showChat"),disabledInput:e.behavior.get("disabledInput")}}))(Za),en=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).toggleConversation=function(){e.props.dispatch({type:"BEHAVIOR/TOGGLE_CHAT"})},e.handleMessageSubmit=function(t){t.preventDefault();var a=t.target.message.value;a.trim()&&e.props.handleNewUserMessage(a),t.target.message.value=""},e.handleQuickButtonClicked=function(t,a){t.preventDefault(),e.props.handleQuickButtonClicked&&e.props.handleQuickButtonClicked(a)},e}return Object(c.a)(a,[{key:"componentWillReceiveProps",value:function(e){e.fullScreenMode&&this.props.dispatch({type:"BEHAVIOR/TOGGLE_CHAT"})}},{key:"render",value:function(){return r.a.createElement(Xa,{onToggleConversation:this.toggleConversation,onSendMessage:this.handleMessageSubmit,onQuickButtonClicked:this.handleQuickButtonClicked,title:this.props.title,titleAvatar:this.props.titleAvatar,subtitle:this.props.subtitle,senderPlaceHolder:this.props.senderPlaceHolder,profileAvatar:this.props.profileAvatar,showCloseButton:this.props.showCloseButton,fullScreenMode:this.props.fullScreenMode,badge:this.props.badge,autofocus:this.props.autofocus,customLauncher:this.props.customLauncher})}}]),a}(n.Component),tn=Object(ha.b)()(en),an=Object(h.c)(Ma=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(ha.a,{store:this.props.store},r.a.createElement(tn,{title:this.props.title,titleAvatar:this.props.titleAvatar,subtitle:this.props.data.subtitle,handleNewUserMessage:this.props.handleNewUserMessage,handleQuickButtonClicked:this.props.handleQuickButtonClicked,senderPlaceHolder:this.props.senderPlaceHolder,profileAvatar:this.props.profileAvatar,showCloseButton:this.props.showCloseButton,fullScreenMode:this.props.fullScreenMode,badge:this.props.data.badge,autofocus:this.props.autofocus,customLauncher:this.props.launcher}))}}]),a}(r.a.Component))||Ma,nn=Object(w.p)(Sa=Object(h.c)((Ra=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onUserMessage=function(t){ge.sendMessage(Object(w.k)())({groupId:e.chatGroupId,content:t}).then((function(e){return Aa(t)})).catch((function(e){return console.error(e)}))},Object(s.a)(e,"chatGroupId",Da,Object(l.a)(e)),Object(s.a)(e,"markerterIsOnline",Ba,Object(l.a)(e)),Object(s.a)(e,"unreadeMsg",La,Object(l.a)(e)),Object(s.a)(e,"chatData",Pa,Object(l.a)(e)),e.connectedCount=0,e.onQuickButtonClicked=function(e){return console.debug("click "+e)},e.loadGroupId=function(){return ge.getConnectedCustomerGroup(Object(w.k)())().then((function(t){e.chatGroupId=t,Ia()})).catch((function(e){return console.error(e)}))},e.checkMarketerOnline=function(){var t=Object(w.k)();ge.isConnectedCustomerMarketerOnline(t)().then((function(t){var a,n=JSON.parse(t);e.markerterIsOnline!==n&&(e.markerterIsOnline=n,e.markerterIsOnline?(a="chat.marketer.online",void 0==e.messageTimer&&(e.messageTimer=setInterval((function(){return e.loadMessages()}),6e3))):(a="chat.marketer.offline",void 0!=e.messageTimer&&(clearInterval(e.messageTimer),e.messageTimer=void 0)),e.chatData.subtitle=e.props.intl.formatMessage({id:a}))})).catch((function(e){return console.error(e)}))},e.messageIds=[],Object(s.a)(e,"loadMessages",xa,Object(l.a)(e)),e.messageTimer=void 0,e.onlineTimer=void 0,e.unsubscribeStore=void 0,e}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.props.mainStore,a=t.initialized,r=t.locale,o=t.loginRequired;if(!a||!r)return null!==this.chatGroupId&&(this.chatGroupId=null),n.createElement(Yt,null);if(o)return null!==this.chatGroupId&&(this.chatGroupId=null),n.createElement(A,null,n.createElement(ke,null));this.loadGroupId();return n.createElement(f.a,{className:"main-layout"},n.createElement(f.a.Header,null,n.createElement(Se,null)),n.createElement(f.a,null,n.createElement(f.a.Sider,{width:200,breakpoint:"sm",collapsedWidth:0,style:{background:"#fff"}},n.createElement(b.a,{mode:"inline",style:{height:"100%",borderRight:0}},n.createElement(b.a.Item,{key:1},n.createElement(Re.a,{to:"/"},n.createElement(g.a,{type:"home"}),n.createElement(M.a,{id:"router.home"}))),Gt.map((function(t,a){return function e(t,a,r){if(null!=t.items)return n.createElement(b.a.SubMenu,{key:a,title:r.formatMessage({id:"router."+t.caption})},t.items.map((function(t,n){return e(t,a+"-"+(n+1),r)})));var o=t.menuLink;return n.createElement(b.a.Item,{key:a},n.createElement(Re.a,{to:o},n.createElement(g.a,{type:"bars"}),n.createElement(M.a,{id:"router."+t.caption})))}(t,""+(a+1+1),e.props.intl)})))),n.createElement(f.a,{style:{padding:"24px 24px 24px"}},n.createElement(f.a.Content,null,n.createElement(De.a,null,n.createElement(Be.a,{exact:!0,path:"/",component:_e}),function e(t){return t.reduce((function(t,a){return null==a.items?t.push(a):t.push.apply(t,Object(i.a)(e(a.items))),t}),[])}(Gt).map((function(e){return n.createElement(Be.a,{key:e.pathPattern,path:e.pathPattern,component:e.component})}))),n.createElement(an,{store:Na,title:this.props.intl.formatMessage({id:"chat.title"}),data:this.chatData,senderPlaceHolder:this.props.intl.formatMessage({id:"chat.placeHolder"}),showCloseButton:!0,fullScreenMode:!1,autofocus:!0,handleQuickButtonClicked:this.onQuickButtonClicked,handleNewUserMessage:this.onUserMessage})),n.createElement(f.a,null,n.createElement(f.a.Footer,null,n.createElement(I,null))))))}},{key:"componentDidMount",value:function(){var e=this;this.onlineTimer=setInterval((function(){null!==e.chatGroupId&&e.checkMarketerOnline()}),3e4),this.unsubscribeStore=Na.subscribe((function(){var t=Na.getState().behavior.get("showChat");e.chatData.opened!=t&&(e.chatData.opened=t,t&&(e.chatData.badge=0))})),Na.dispatch({type:"BEHAVIOR/DISABLE_INPUT"})}},{key:"componentWillUnmount",value:function(){clearInterval(this.onlineTimer),this.unsubscribeStore()}}]),a}(n.Component),Da=Object(m.a)(Ra.prototype,"chatGroupId",[j.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ba=Object(m.a)(Ra.prototype,"markerterIsOnline",[j.n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),La=Object(m.a)(Ra.prototype,"unreadeMsg",[j.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Pa=Object(m.a)(Ra.prototype,"chatData",[j.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{subtitle:"",badge:0,opened:!1}}}),xa=Object(m.a)(Ra.prototype,"loadMessages",[j.e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(w.k)();ge.loadNewMessages(t)({groupId:e.chatGroupId,limit:10}).then((function(a){JSON.parse(a).forEach((function(a){var n;-1==e.messageIds.indexOf(a.id)&&(e.messageIds.push(a.id),n=a.content,Na.dispatch(function(e){return{type:"MESSAGES/ADD_NEW_RESPONSE_MESSAGE",text:e}}(n)),e.chatData.opened||e.chatData.badge++),ge.markAsRead(t)({messageIds:[a.id]})}))})).catch((function(e){return console.error(e)}))}}}),Sa=Ra))||Sa)||Sa;var rn=Object(S.c)(nn),on=a(634),sn=a(95),cn=(a(617),a(618),a(619),a(283)),ln=a(284),un=a(285),dn=a(287),mn={en:un.a,fr:dn.a},pn={en:cn,fr:ln},fn=(a(620),Object(sn.initializeApp)({name:"LLyciah Travel",apiUrl:"https://app.llyciah-travel.com/app/rest/",storage:window.localStorage}));o.render(n.createElement(w.a,{cubaREST:fn,messagesMapping:pn,antdLocaleMapping:mn},n.createElement(on.a,null,n.createElement(Be.a,{component:rn}))),document.getElementById("root"))}},[[296,1,2]]]);
//# sourceMappingURL=main.5bef7c62.chunk.js.map