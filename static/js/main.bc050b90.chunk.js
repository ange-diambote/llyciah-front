(this.webpackJsonptAgency=this.webpackJsonptAgency||[]).push([[0],{147:function(e,t,a){e.exports=a.p+"static/media/clear-button.d9e1613e.svg"},155:function(e,t,a){},264:function(e,t,a){e.exports=a.p+"static/media/logo.0269ee00.png"},265:function(e,t,a){e.exports=a.p+"static/media/logo.4bb12130.png"},267:function(e,t,a){e.exports=a.p+"static/media/background.c16bdec2.jpg"},275:function(e,t,a){e.exports=a.p+"static/media/launcher_button.af95d0d7.svg"},276:function(e,t,a){e.exports=a.p+"static/media/send_button.6218677e.svg"},277:function(e){e.exports=JSON.parse('{"management.browser.delete.areYouSure":"Are you sure you want to delete {instanceName}?","management.browser.delete.ok":"Delete","management.browser.delete.cancel":"Cancel","management.browser.create":"Create","management.browser.edit":"Edit","management.browser.remove":"Remove","management.browser.noItems":"No data","management.editor.validationError":"Validation Error. Please check the data you entered.","management.editor.success":"Entity has been updated","management.editor.error":"Error","management.editor.cancel":"Cancel","management.editor.submit":"Submit","router.AccountManagement":"AccountManagement","chat.title":"Welcome to LLYCIAH Travcel","chat.marketer.online":"Your marketer is online","chat.marketer.offline":"Your marketer is offline","chat.placeHolder":"Type a message...","password.success":"Password changed","password.change":"Change","password.different":"New and confirmation password must be the same","password.same":"Current and new password must be different","password.title":"Password change","password.old":"Current password","password.new":"New password","password.confirm":"Confirm password","booking.submit.areYouSure":"Are you sure you want to book it?","booking.submit.areYouSure.ok":"Book","booking.submit.areYouSure.cancel":"Cancel","booking.success":"Booking done","booking.failed":"Booking failed","booking.submit":"Book","router.PriceCards":"Prices","management.browser.open":"Open","management.editor.close":"Close","router.TransctionManagement":"Transactions","router.BookingManagement":"Bookings","information.title":"My data","information.failed":"Your data are not available, please try later","router.Information":"My data","reset.title":"Password reset","reset.success":"You will receive password by sms","phone.error":"Must be a DRC phone number","customer.name":"Name","customer.firstName":"First name","customer.lastName":"Last name","customer.email":"Email","customer.phone":"Phone","customer.registerDate":"Register date","customer.placeBirth":"Place birth","customer.birthDay":"Birth day","customer.passport":"Passport","router.CustomerManagement":"CustomerManagement","register.success":"Your registration request was successful\\nYou \'ll receive login information by sms","register.title":"Please, enter your information","register.login.invalid":"Invalid login","login.register":"Not registered yet","login.registerBtn":"Register now","login.reset":"Did you forgot your password? ","login.resetBtn":"Forgot password","common.alt.logo":"Logo","home.welcome":"Welcome to","router.home":"Home","login.failed":"Login failed","login.placeholder.login":"Login","login.placeholder.password":"Password","login.loginBtn":"Submit","header.logout.areYouSure":"Are you sure you want to logout?","header.logout.ok":"Logout","header.logout.cancel":"Cancel","cubaReact.dataTable.clearAllFilters":"Clear filters","cubaReact.dataTable.requiredField":"Required field","cubaReact.dataTable.failedToLoadNestedEntities":"Failed to load nested entities list","cubaReact.dataTable.loading":"Loading...","cubaReact.dataTable.operator.startsWith":"starts with","cubaReact.dataTable.operator.endsWith":"ends with","cubaReact.dataTable.operator.contains":"contains","cubaReact.dataTable.operator.doesNotContain":"doesn\'t contain","cubaReact.dataTable.operator.in":"in","cubaReact.dataTable.operator.notIn":"not in","cubaReact.dataTable.operator.notEmpty":"is set","cubaReact.dataTable.operator.inInterval":"in interval","cubaReact.dataTable.yes":"Yes","cubaReact.dataTable.no":"No","cubaReact.dataTable.ok":"OK","cubaReact.dataTable.reset":"Reset","cubaReact.dataTable.intervalEditor.last":"Last","cubaReact.dataTable.intervalEditor.next":"Next","cubaReact.dataTable.intervalEditor.predefined":"Predefined","cubaReact.dataTable.intervalEditor.today":"Today","cubaReact.dataTable.intervalEditor.yesterday":"Yesterday","cubaReact.dataTable.intervalEditor.tomorrow":"Tomorrow","cubaReact.dataTable.intervalEditor.lastMonth":"Last month","cubaReact.dataTable.intervalEditor.thisMonth":"This month","cubaReact.dataTable.intervalEditor.nextMonth":"Next month","cubaReact.dataTable.intervalEditor.days":"Days","cubaReact.dataTable.intervalEditor.hours":"Hours","cubaReact.dataTable.intervalEditor.minutes":"Minutes","cubaReact.dataTable.intervalEditor.months":"Months","cubaReact.dataTable.intervalEditor.includingCurrent":"including current","cubaReact.dataTable.listEditor.addItem":"Add Item","cubaReact.fileUpload.replace":"Upload a different file by clicking or dragging file to this area","cubaReact.fileUpload.upload":"Click or drag file to this area to upload","cubaReact.fileUpload.uploadFailed":"File upload failed","antd.form.validation.default":"Field %s has a validation error.","antd.form.validation.required":"Field %s is mandatory.","antd.form.validation.enum":"Specified value in field %s shall be restricted to the following list: %s.","antd.form.validation.whitespace":"Field %s cannot contain only whitespaces.","antd.form.validation.date.format":"Field %s contains a date %s that does not conform to the required format %s.","antd.form.validation.date.parse":"Field %s contains a date %s that cannot be parsed.","antd.form.validation.date.invalid":"Field %s contains an invalid date %s.","antd.form.validation.types.string":"%s has type different from %s.","antd.form.validation.types.method":"%s has type different from %s.","antd.form.validation.types.array":"%s has type different from %s.","antd.form.validation.types.object":"%s has type different from %s.","antd.form.validation.types.number":"%s has type different from %s.","antd.form.validation.types.date":"%s has type different from %s.","antd.form.validation.types.boolean":"%s has type different from %s.","antd.form.validation.types.integer":"%s has type different from %s.","antd.form.validation.types.float":"%s has type different from %s.","antd.form.validation.types.regexp":"Specified value in field %s is not a valid %s.","antd.form.validation.types.email":"Specified value in field %s is not a valid %s.","antd.form.validation.types.url":"Specified value in field %s is not a valid %s.","antd.form.validation.types.hex":"Specified value in field %s is not a valid %s.","antd.form.validation.string.len":"Field %s shall be exactly %s characters long.","antd.form.validation.string.min":"Field %s shall contain no less than %s characters.","antd.form.validation.string.max":"Field %s shall contain no more than %s characters.","antd.form.validation.string.range":"Field %s shall contain from %s to %s characters.","antd.form.validation.number.len":"%s shall be equal to %s.","antd.form.validation.number.min":"%s shall not be less than %s.","antd.form.validation.number.max":"%s shall not exceed %s.","antd.form.validation.number.range":"%s shall be within a range from %s to %s.","antd.form.validation.array.len":"%s shall have exactly %s elements.","antd.form.validation.array.min":"%s shall have no less than %s elements.","antd.form.validation.array.max":"%s shall have no more than %s elements.","antd.form.validation.array.range":"%s shall have from %s to %s elements.","antd.form.validation.pattern.mismatch":"%s has value %s that doesn\'t match pattern %s."}')},278:function(e){e.exports=JSON.parse('{"chat.title":"Bienvenu \xe0 LLYCIAH Travcel","chat.marketer.online":"Votre commercial est en ligne","chat.marketer.offline":"Votre commercial est actuellement d\xe9connect\xe9","chat.placeHolder":"Type a message...","booking.submit.areYouSure":"Et vous s\xfbr de vouloir faire cette r\xe9servation?","booking.submit.areYouSure.ok":"R\xe9server","booking.submit.areYouSure.cancel":"Annuler","booking.success":"R\xe9servation effectu\xe9e","booking.failed":"La r\xe9servation a \xe9chou\xe9","booking.submit":"R\xe9server","router.PriceCards":"Prix","management.browser.delete.areYouSure":"\xcates-vous s\xfbr de vouloir supprimer {instanceName}?","management.browser.delete.ok":"Supprimer","management.browser.delete.cancel":"Annuler","management.browser.create":"Cr\xe9er","management.browser.edit":"Editer","management.browser.open":"Consulter","management.browser.remove":"Supprimer","management.browser.noItems":"Aucune donn\xe9e","management.editor.validationError":"Erreur de validation. Veuillez v\xe9rifier les donn\xe9es fournies.","management.editor.success":"Mise \xe0 jour effectu\xe9e","management.editor.error":"Erreur","management.editor.cancel":"Annuler","management.editor.close":"Fermer","management.editor.submit":"Envoyer","router.TransctionManagement":"Transactions","router.BookingManagement":"R\xe9servations","information.title":"Mes donn\xe9es","information.failed":"Vos donn\xe9es ne sont pas disponible, veuillez r\xe9essayer ult\xe9rieurement","router.Information":"Mes donn\xe9es","reset.title":"R\xe9initialisation du mot de passe","reset.success":"Vous recevrez votre mot de passe par sms","phone.error":"Doit \xeatre un num\xe9ro de la RDC","customer.name":"Nom","customer.firstName":"Pr\xe9nom","customer.lastName":"Post nom","customer.email":"Email","customer.phone":"T\xe9l\xe9phone","customer.registerDate":"Date d\u2019enregistrement","customer.placeBirth":"Lieu de naissance","customer.birthDay":"Date de naissance","customer.passport":"Passeport","router.CustomerManagement":"Gestion des clients","register.success":"Nous avons re\xe7u vos informations.\\nVous recevrez les informations d\u2019authentification par sms","register.title":"Veuillez renseigner vos informations","register.login.invalid":"Nom de connexion non valide","login.register":"Pas encore enregistr\xe9","login.registerBtn":"S\u2019enregitrer","login.reset":"Vous avez perdu votre mot de passe? ","login.resetBtn":"Mot de passe oubli\xe9","common.alt.logo":"Logo","home.welcome":"Bienvenu \xe0","router.home":"Accueil","login.failed":"Echec de l\u2018authentification","login.placeholder.login":"Identifiant","login.placeholder.password":"Mot de passe","login.loginBtn":"Se connecter","header.logout.areYouSure":"\xcates-vous s\xfbr de vouloir vous d\xe9connecter?","header.logout.ok":"D\xe9connexion","header.logout.cancel":"Annuler","cubaReact.dataTable.clearAllFilters":"R\xe9initialiser les filtres","cubaReact.dataTable.requiredField":"Champ obligatoire","cubaReact.dataTable.failedToLoadNestedEntities":"Echec de charger les informations annexes","cubaReact.dataTable.loading":"Chargement...","cubaReact.dataTable.operator.startsWith":"commence par","cubaReact.dataTable.operator.endsWith":"se termine par","cubaReact.dataTable.operator.contains":"contient","cubaReact.dataTable.operator.doesNotContain":"ne contient pas","cubaReact.dataTable.operator.in":"dans","cubaReact.dataTable.operator.notIn":"en dehors de","cubaReact.dataTable.operator.notEmpty":"non vide","cubaReact.dataTable.operator.inInterval":"dans l\u2019intervalle","cubaReact.dataTable.yes":"Oui","cubaReact.dataTable.no":"Non","cubaReact.dataTable.ok":"OK","cubaReact.dataTable.reset":"R\xe9initialiser","cubaReact.dataTable.intervalEditor.last":"Dernier","cubaReact.dataTable.intervalEditor.next":"Suivant","cubaReact.dataTable.intervalEditor.predefined":"Pr\xe9d\xe9fini","cubaReact.dataTable.intervalEditor.today":"Aujourd\u2019hui","cubaReact.dataTable.intervalEditor.yesterday":"Hier","cubaReact.dataTable.intervalEditor.tomorrow":"Demain","cubaReact.dataTable.intervalEditor.lastMonth":"Mois pass\xe9","cubaReact.dataTable.intervalEditor.thisMonth":"Ce moi ci","cubaReact.dataTable.intervalEditor.nextMonth":"Mois prochain","cubaReact.dataTable.intervalEditor.days":"Jours","cubaReact.dataTable.intervalEditor.hours":"Heures","cubaReact.dataTable.intervalEditor.minutes":"Minutes","cubaReact.dataTable.intervalEditor.months":"Mois","cubaReact.dataTable.intervalEditor.includingCurrent":"inclure celui encours","cubaReact.dataTable.listEditor.addItem":"Ajout \xe9l\xe9ment","cubaReact.fileUpload.replace":"T\xe9l\xe9 verser un fichier diff\xe9rent en cliquant ou glissant le fichier dans cette zone","cubaReact.fileUpload.upload":"Cliquez ou glisser le fichier dans cette zone","cubaReact.fileUpload.uploadFailed":"Echec du t\xe9l\xe9 versement du fichier","antd.form.validation.default":"Le champ %s a une erreur de validation.","antd.form.validation.required":"Le champ %s est obligatoire.","antd.form.validation.enum":"Le champ %s n\u2019autorise que l\u2019une des valeurs de la liste suivante : %s.","antd.form.validation.whitespace":"Le champ %s ne peut pas contenir uniquement que des caract\xe8re blanc.","antd.form.validation.date.format":"Le champ %s contient la date %s qui n\u2019est pas conforme au format requis %s.","antd.form.validation.date.parse":"Le champ %s contient la date %s qui ne peut pas \xeatre interpr\xe9t\xe9.","antd.form.validation.date.invalid":"Le champ %s contient une date invalide %s.","antd.form.validation.types.string":"%s a un type diff\xe9rent de %s.","antd.form.validation.types.method":"%s a un type diff\xe9rent de from %s.","antd.form.validation.types.array":"%s a un type diff\xe9rent de %s.","antd.form.validation.types.object":"%s a un type diff\xe9rent de %s.","antd.form.validation.types.number":"%s a un type diff\xe9rent de %s.","antd.form.validation.types.date":"%s a un type diff\xe9rent de %s.","antd.form.validation.types.boolean":"%s a un type diff\xe9rent de %s.","antd.form.validation.types.integer":"%s a un type diff\xe9rent de %s.","antd.form.validation.types.float":"%s a un type diff\xe9rent de %s.","antd.form.validation.types.regexp":"La valeur sp\xe9cifi\xe9e dans le champ %s is n\u2019est pas conforme \xe0 %s.","antd.form.validation.types.email":"La valeur renseign\xe9 dans le champ %s n\u2019est pas un %s valide.","antd.form.validation.types.url":" La valeur renseign\xe9 dans le champ %s n\u2019est pas un %s valide.","antd.form.validation.types.hex":" La valeur renseign\xe9 dans le champ %s n\u2019est pas un %s valide.","antd.form.validation.string.len":" La valeur renseign\xe9 dans le champ %s n\u2019est pas un %s valide.","antd.form.validation.string.min":"La champ %s doit avoir au moins %s caract\xe8res.","antd.form.validation.string.max":" La champ %s doit avoir au plus %s caract\xe8res.","antd.form.validation.string.range":"Le champ %s doit avoir entre %s \xe0 %s caract\xe8res.","antd.form.validation.number.len":"%s doit \xeatre \xe9gale \xe0 %s.","antd.form.validation.number.min":"%s ne doit pas \xeatre inf\xe9rieur \xe0 %s.","antd.form.validation.number.max":"%s ne doit pas \xeatre sup\xe9rieur \xe0 %s.","antd.form.validation.number.range":"%s doit \xeatre dans l\u2019intervalle compris entre %s \xe0 %s.","antd.form.validation.array.len":"%s doit avoir exactement %s \xe9l\xe9ments.","antd.form.validation.array.min":"%s ne doit pas avoir moins de %s \xe9l\xe9ments.","antd.form.validation.array.max":"%s ne doit pas avoir plus de %s \xe9l\xe9ments.","antd.form.validation.array.range":"%s doit avoir entre %s \xe0 %s \xe9l\xe9ments.","antd.form.validation.pattern.mismatch":"%s a la valeur %s qui n\u2019est pas conforme \xe0 l\u2019expression r\xe9guli\xe8re %s."}')},288:function(e,t,a){e.exports=a(599)},497:function(e,t,a){},498:function(e,t,a){},499:function(e,t,a){},500:function(e,t,a){},501:function(e,t,a){},503:function(e,t,a){},504:function(e,t,a){},581:function(e,t,a){},582:function(e,t,a){},584:function(e,t,a){},585:function(e,t,a){},586:function(e,t,a){},587:function(e,t,a){},588:function(e,t,a){},589:function(e,t,a){},590:function(e,t,a){},593:function(e,t,a){},594:function(e,t,a){},597:function(e,t,a){},599:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(11),i=a(61),s=a(27),c=a(18),l=a(14),u=a(13),d=a(25),m=a(15),p=a(28),b=(a(66),a(9)),f=(a(155),a(604)),h=a(194),g=a(10),v=a(21),E=a(608),y=a(280),O=a(54),j=a(611),w=a(3),k=a(16),C=(a(497),a(264)),T=a.n(C),N=a(112),A=(a(498),function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e){Object(k.m)().setLocale(e)},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(N.a,{defaultValue:Object(k.m)().locale,onChange:this.handleChange,size:"small",style:this.props.style,className:this.props.className},r.a.createElement(N.a.Option,{value:"en"},"English"),r.a.createElement(N.a.Option,{value:"fr"},"Fran\xe7ais"))}}]),t}(r.a.Component));function I(e){var t=e.children;return n.createElement("div",{style:{width:"100vw",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center"}},t)}a(499);var M=function(e){function t(){return Object(b.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.createElement("div",{className:"c-powered-by"},"Powered by",n.createElement("a",{href:"https://softteam.tech"},"SoftTeam tech"))}}]),t}(n.Component),S=a(602),R=a(132),D=a(32),B=(a(500),a(607)),L=a(606),P=a(603),x=function e(){Object(b.a)(this,e)};x.NAME="sys$BaseGenericIdEntity";var _=function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).id=void 0,a}return Object(m.a)(t,e),t}(x);_.NAME="sys$BaseUuidEntity";var F=function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).version=void 0,a.createTs=void 0,a.createdBy=void 0,a.updateTs=void 0,a.updatedBy=void 0,a.deleteTs=void 0,a.deletedBy=void 0,a}return Object(m.a)(t,e),t}(_);F.NAME="sys$StandardEntity";var z=function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).code=void 0,a.firstName=void 0,a.name=void 0,a.lastName=void 0,a.email=void 0,a.phone=void 0,a.registerDate=void 0,a.status=void 0,a.account=void 0,a.previousStatus=void 0,a.marketer=void 0,a.birthDay=void 0,a.passport=void 0,a.placeBirth=void 0,a.registered=void 0,a.user=void 0,a}return Object(m.a)(t,e),t}(F);z.NAME="tagency_Customer";var U,q,H,V,G,Y,W,K,Q,J,$,Z,X,ee,te,ae,ne,re,oe,ie,se,ce,le,ue,de,me,pe,be,fe,he,ge={register:function(e,t){return function(a){return e.invokeService("tagency_RegisterService","register",a,t)}},resetPassword:function(e,t){return function(a){return e.invokeService("tagency_RegisterService","resetPassword",a,t)}},getUserName:function(e,t){return function(){return e.invokeService("tagency_RegisterService","getUserName",{},t)}},changePassword:function(e,t){return function(a){return e.invokeService("tagency_RegisterService","changePassword",a,t)}}},ve={loadMessages:function(e,t){return function(a){return e.invokeService("tagency_ChatService","loadMessages",a,t)}},markAsRead:function(e,t){return function(a){return e.invokeService("tagency_ChatService","markAsRead",a,t)}},sendMessage:function(e,t){return function(a){return e.invokeService("tagency_ChatService","sendMessage",a,t)}},getUnreadCountMessage:function(e,t){return function(a){return e.invokeService("tagency_ChatService","getUnreadCountMessage",a,t)}},getConnectedCustomerGroup:function(e,t){return function(){return e.invokeService("tagency_ChatService","getConnectedCustomerGroup",{},t)}},loadNewMessages:function(e,t){return function(a){return e.invokeService("tagency_ChatService","loadNewMessages",a,t)}},isConnectedCustomerMarketerOnline:function(e,t){return function(){return e.invokeService("tagency_ChatService","isConnectedCustomerMarketerOnline",{},t)}}},Ee=a(19),ye=a.n(Ee),Oe=Object(v.c)((q=function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).registerService=function(e){return ge.register(Object(k.k)())({customer:e})},a.dataInstance=Object(k.q)(z.NAME,{view:"customer-view",loadImmediately:!1}),a.fields=["firstName","name","lastName","email","phone","birthDay","placeBirth","passport"],Object(s.a)(a,"globalErrors",H,Object(d.a)(a)),a.reactionDisposer=void 0,Object(s.a)(a,"submited",V,Object(d.a)(a)),Object(s.a)(a,"resgister",G,Object(d.a)(a)),a.major=void 0,a.notMajor=function(e){return e.local().isAfter(a.major)},a.close=function(){return a.props.close(!0)},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return(n.createElement(B.a,{title:n.createElement(S.a,{id:"register.title"}),className:"app-register narrow-layout"},n.createElement(E.a,{layout:"horizontal",labelAlign:"left",onSubmit:this.resgister},n.createElement(E.a.Item,{label:n.createElement(S.a,{id:"customer.firstName"})},e("firstName")(n.createElement(y.a,null))),n.createElement(E.a.Item,{label:n.createElement(S.a,{id:"customer.name"})},e("name",{rules:[{required:!0}]})(n.createElement(y.a,null))),n.createElement(E.a.Item,{label:n.createElement(S.a,{id:"customer.lastName"})},e("lastName")(n.createElement(y.a,null))),n.createElement(E.a.Item,{label:n.createElement(S.a,{id:"customer.email"})},e("email",{rules:[{type:"email"}]})(n.createElement(y.a,{type:"email"}))),n.createElement(E.a.Item,{label:n.createElement(S.a,{id:"customer.phone"})},e("phone",{rules:[{required:!0},{message:n.createElement(S.a,{id:"phone.error"}),pattern:/(\+243)\d/}]})(n.createElement(y.a,{type:"tel",placeholder:"+243"}))),n.createElement(E.a.Item,{label:n.createElement(S.a,{id:"customer.birthDay"})},e("birthDay",{})(n.createElement(L.a,{disabledDate:this.notMajor,showToday:!1}))),n.createElement(E.a.Item,{label:n.createElement(S.a,{id:"customer.placeBirth"})},e("placeBirth")(n.createElement(y.a,null))),n.createElement(E.a.Item,{label:n.createElement(S.a,{id:"customer.passport"})},e("passport")(n.createElement(y.a,null))),this.globalErrors.length>0&&n.createElement(P.a,{message:n.createElement(k.f,{lines:Object(w.r)(this.globalErrors)}),type:"error",style:{marginBottom:"24px"}}),n.createElement(E.a.Item,null,n.createElement(O.a,{type:"default",htmlType:"button",style:{float:"left"},onClick:this.close},n.createElement(S.a,{id:"management.editor.cancel"})),n.createElement(O.a,{type:"primary",htmlType:"submit",loading:this.submited,style:{marginLeft:"8px",float:"right"}},n.createElement(S.a,{id:"management.editor.submit"}))))))}},{key:"componentDidMount",value:function(){this.major=ye()().subtract(18,"years"),console.debug(this.major)}}]),t}(n.Component),H=Object(p.a)(q.prototype,"globalErrors",[w.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),V=Object(p.a)(q.prototype,"submited",[w.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),G=Object(p.a)(q.prototype,"resgister",[w.e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.submited=!0,e.props.form.validateFields((function(t){t?j.a.error(e.props.intl.formatMessage({id:"management.editor.validationError"})):e.registerService(e.props.form.getFieldsValue(e.fields)).then((function(){j.a.success(e.props.intl.formatMessage({id:"register.success"})),e.close()})).catch((function(t){t.response&&"function"===typeof t.response.json?t.response.json().then((function(t){Object(k.g)(e.props.form);var a=Object(k.j)(t),n=a.globalErrors,r=a.fieldErrors;e.globalErrors=n,r.size>0&&e.props.form.setFields(Object(k.i)(r,e.props.form)),r.size>0||n.length>0?j.a.error(e.props.intl.formatMessage({id:"management.editor.validationError"})):j.a.error(e.props.intl.formatMessage({id:"management.editor.error"}))})):j.a.error(e.props.intl.formatMessage({id:"management.editor.error"})),e.submited=!1}))}))}}}),U=q))||U,je=Object(k.p)(Object(R.c)(Object(k.r)({onValuesChange:function(e,t){Object.keys(t).forEach((function(a){e.form.setFields(Object(D.a)({},a,{value:t[a]}))}))}})(Oe))),we=(a(501),Object(v.c)((W=function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).resetService=function(e){return ge.resetPassword(Object(k.k)())({login:e})},a.fields=["login"],Object(s.a)(a,"submited",K,Object(d.a)(a)),Object(s.a)(a,"globalErrors",Q,Object(d.a)(a)),a.reactionDisposer=void 0,Object(s.a)(a,"reset",J,Object(d.a)(a)),a.close=function(){return a.props.close(!1)},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return n.createElement(B.a,{title:n.createElement(S.a,{id:"reset.title"}),className:"narrow-layout"},n.createElement(E.a,{layout:"horizontal",labelAlign:"left",onSubmit:this.reset},n.createElement(E.a.Item,{style:{marginBottom:"12px"}},e("login",{rules:[{required:!0}]})(n.createElement(y.a,{placeholder:this.props.intl.formatMessage({id:"login.placeholder.login"}),prefix:n.createElement(g.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),size:"large"}))),this.globalErrors.length>0&&n.createElement(P.a,{message:n.createElement(k.f,{lines:Object(w.r)(this.globalErrors)}),type:"error",style:{marginBottom:"24px"}}),n.createElement(E.a.Item,null,n.createElement(O.a,{type:"default",htmlType:"button",style:{float:"left"},onClick:this.close},n.createElement(S.a,{id:"management.editor.cancel"})),n.createElement(O.a,{type:"primary",htmlType:"submit",disabled:this.submited,loading:this.submited,style:{marginLeft:"8px",float:"right"}},n.createElement(S.a,{id:"management.editor.submit"})))))}}]),t}(n.Component),K=Object(p.a)(W.prototype,"submited",[w.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Q=Object(p.a)(W.prototype,"globalErrors",[w.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),J=Object(p.a)(W.prototype,"reset",[w.e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.submited=!0,e.props.form.validateFields((function(t){t?j.a.error(e.props.intl.formatMessage({id:"management.editor.validationError"})):e.resetService(e.props.form.getFieldValue("login")).then((function(){j.a.success(e.props.intl.formatMessage({id:"reset.success"})),e.close()})).catch((function(t){t.response&&"function"===typeof t.response.json?t.response.json().then((function(t){Object(k.g)(e.props.form);var a=Object(k.j)(t),n=a.globalErrors,r=a.fieldErrors;e.globalErrors=n,r.size>0&&e.props.form.setFields(Object(k.i)(r,e.props.form)),r.size>0||n.length>0?j.a.error(e.props.intl.formatMessage({id:"management.editor.validationError"})):j.a.error(e.props.intl.formatMessage({id:t.details}))})):j.a.error(e.props.intl.formatMessage({id:"management.editor.error"})),e.submited=!1}))}))}}}),Y=W))||Y),ke=Object(k.p)(Object(R.c)(Object(k.r)({onValuesChange:function(e,t){Object.keys(t).forEach((function(a){e.form.setFields(Object(D.a)({},a,{value:t[a]}))}))}})(we))),Ce=(a(502),Object(k.p)($=Object(v.c)((Z=function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={requestingRegister:!1,requestingReset:!1},Object(s.a)(a,"login",X,Object(d.a)(a)),Object(s.a)(a,"password",ee,Object(d.a)(a)),Object(s.a)(a,"performingLoginRequest",te,Object(d.a)(a)),Object(s.a)(a,"changeLogin",ae,Object(d.a)(a)),Object(s.a)(a,"changePassword",ne,Object(d.a)(a)),a.register=function(){a.setState({requestingRegister:!0})},a.reset=function(){a.setState({requestingReset:!0})},Object(s.a)(a,"doLogin",re,Object(d.a)(a)),a.handleClose=function(e){e?a.setState({requestingRegister:!1}):a.setState({requestingReset:!1})},a.handleNewUserMessage=function(e){alert(e)},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state,t=e.requestingRegister,a=e.requestingReset;return n.createElement("div",{className:"login-background"},n.createElement(I,null,n.createElement("div",{className:"login-form"},n.createElement("div",{className:"login-title"},n.createElement("img",{src:T.a,alt:this.props.intl.formatMessage({id:"common.alt.logo"}),className:"logo"}),n.createElement("div",{className:"title"},n.createElement(S.a,{id:"home.welcome"})," LLYCIAH Travel!")),t||a?n.createElement(n.Fragment,null,t?n.createElement(je,{close:this.handleClose}):n.createElement(ke,{close:this.handleClose})):n.createElement(E.a,{layout:"vertical",onSubmit:this.doLogin},n.createElement(E.a.Item,null,n.createElement(y.a,{placeholder:this.props.intl.formatMessage({id:"login.placeholder.login"}),onChange:this.changeLogin,value:this.login,prefix:n.createElement(g.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),size:"large"})),n.createElement(E.a.Item,null,n.createElement(y.a,{placeholder:this.props.intl.formatMessage({id:"login.placeholder.password"}),onChange:this.changePassword,value:this.password,type:"password",prefix:n.createElement(g.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),size:"large"})),n.createElement(E.a.Item,null,n.createElement("div",{style:{float:"right"}},n.createElement(A,{className:"language-switcher"}))),n.createElement(E.a.Item,null,n.createElement(O.a,{type:"primary",htmlType:"submit",size:"large",loading:this.performingLoginRequest},n.createElement(S.a,{id:"login.loginBtn"})),n.createElement(O.a,{type:"link",size:"large",htmlType:"button",className:"login-reset",onClick:this.reset},n.createElement(S.a,{id:"login.resetBtn"}))),n.createElement("div",null,n.createElement(S.a,{id:"login.register"})),n.createElement(O.a,{type:"ghost",size:"large",htmlType:"button",className:"login-register",onClick:this.register},n.createElement(S.a,{id:"login.registerBtn"}))),n.createElement(M,null))))}},{key:"componentDidMount",value:function(){}}]),t}(n.Component),X=Object(p.a)(Z.prototype,"login",[w.n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ee=Object(p.a)(Z.prototype,"password",[w.n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te=Object(p.a)(Z.prototype,"performingLoginRequest",[w.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ae=Object(p.a)(Z.prototype,"changeLogin",[w.e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.login=t.target.value}}}),ne=Object(p.a)(Z.prototype,"changePassword",[w.e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.password=t.target.value}}}),re=Object(p.a)(Z.prototype,"doLogin",[w.e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){t.preventDefault(),e.performingLoginRequest=!0,e.props.mainStore.login(e.login,e.password).then(Object(w.e)((function(){e.performingLoginRequest=!1}))).catch(Object(w.e)((function(){e.performingLoginRequest=!1,j.a.error(e.props.intl.formatMessage({id:"login.failed"}))})))}}}),$=Z))||$)||$),Te=Object(R.c)(Ce),Ne=a(609),Ae=(a(503),a(265)),Ie=a.n(Ae),Me=(a(504),Object(v.c)((ie=function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).changeService=function(e,t){return ge.changePassword(Object(k.k)())({current:e,password:t})},Object(s.a)(a,"requested",se,Object(d.a)(a)),Object(s.a)(a,"globalErrors",ce,Object(d.a)(a)),Object(s.a)(a,"change",le,Object(d.a)(a)),Object(s.a)(a,"show",ue,Object(d.a)(a)),Object(s.a)(a,"showDialog",de,Object(d.a)(a)),Object(s.a)(a,"closeDialog",me,Object(d.a)(a)),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return n.createElement(n.Fragment,null,n.createElement(O.a,{className:"panelelement password",icon:"security-scan",onClick:this.showDialog,style:{border:0},htmlType:"button",ghost:!0,title:this.props.intl.formatMessage({id:"password.title"})}),this.show&&n.createElement(Ne.a,{visible:this.show,title:this.props.intl.formatMessage({id:"password.title"}),width:"300px",onCancel:this.closeDialog,onOk:this.change,okText:n.createElement(S.a,{id:"password.change"}),cancelText:n.createElement(S.a,{id:"management.editor.cancel"})},n.createElement(E.a,{layout:"vertical"},n.createElement(E.a.Item,{label:n.createElement(S.a,{id:"password.old"}),style:{marginBottom:"0px"}},e("old",{rules:[{required:!0}]})(n.createElement(y.a,{type:"password"}))),n.createElement(E.a.Item,{label:n.createElement(S.a,{id:"password.new"}),style:{marginBottom:"0px"}},e("new",{rules:[{required:!0}]})(n.createElement(y.a,{type:"password"}))),n.createElement(E.a.Item,{label:n.createElement(S.a,{id:"password.confirm"}),style:{marginBottom:"0px"}},e("confirm",{rules:[{required:!0}]})(n.createElement(y.a,{type:"password"}))))))}}]),t}(n.Component),se=Object(p.a)(ie.prototype,"requested",[w.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ce=Object(p.a)(ie.prototype,"globalErrors",[w.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),le=Object(p.a)(ie.prototype,"change",[w.e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=e.props.form;e.requested=!0,t.validateFieldsAndScroll((function(a){return a?(j.a.error(e.props.intl.formatMessage({id:"management.editor.validationError"})),void(e.requested=!1)):t.getFieldValue("new")===t.getFieldValue("old")?(j.a.error(e.props.intl.formatMessage({id:"password.same"})),void(e.requested=!1)):t.getFieldValue("new")!==t.getFieldValue("confirm")?(j.a.error(e.props.intl.formatMessage({id:"password.different"})),void(e.requested=!1)):void e.changeService(e.props.form.getFieldValue("old"),e.props.form.getFieldValue("new")).then((function(){j.a.success(e.props.intl.formatMessage({id:"password.success"})),e.closeDialog()})).catch((function(t){t.response&&"function"===typeof t.response.json?t.response.json().then((function(t){Object(k.g)(e.props.form);var a=Object(k.j)(t),n=a.globalErrors,r=a.fieldErrors;e.globalErrors=n,r.size>0&&e.props.form.setFields(Object(k.i)(r,e.props.form)),r.size>0||n.length>0?j.a.error(e.props.intl.formatMessage({id:"management.editor.validationError"})):j.a.error(e.props.intl.formatMessage({id:t.details}))})):j.a.error(e.props.intl.formatMessage({id:"management.editor.error"})),e.requested=!1}))}))}}}),ue=Object(p.a)(ie.prototype,"show",[w.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),de=Object(p.a)(ie.prototype,"showDialog",[w.e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.show=!0}}}),me=Object(p.a)(ie.prototype,"closeDialog",[w.e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){return e.show=!1}}}),oe=ie))||oe),Se=Object(k.p)(Object(R.c)(Object(k.r)({onValuesChange:function(e,t){Object.keys(t).forEach((function(a){e.form.setFields(Object(D.a)({},a,{value:t[a]}))}))}})(Me))),Re=Object(k.p)(pe=Object(v.c)((be=function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r))),Object(s.a)(a,"userName",fe,Object(d.a)(a)),a.showLogoutConfirm=function(){Ne.a.confirm({title:a.props.intl.formatMessage({id:"header.logout.areYouSure"}),okText:a.props.intl.formatMessage({id:"header.logout.ok"}),cancelText:a.props.intl.formatMessage({id:"header.logout.cancel"}),onOk:function(){a.props.mainStore.logout()}})},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.mainStore;return n.createElement("div",{className:"app-header"},n.createElement("div",{style:{textAlign:"center",verticalAlign:"middle"}},n.createElement("img",{className:"app-logo",src:Ie.a,alt:this.props.intl.formatMessage({id:"common.alt.logo"})}),n.createElement("span",{className:"app-user"},this.userName)),n.createElement("div",{className:"user-panel"},n.createElement(A,{className:"panelelement language-switcher -header"}),n.createElement("span",{className:"panelelement",style:{display:"none"}},e.userName),n.createElement(Se,null),n.createElement(O.a,{className:"panelelement",ghost:!0,icon:"logout",style:{border:0},onClick:this.showLogoutConfirm})))}},{key:"componentDidMount",value:function(){var e=this;ge.getUserName(Object(k.k)())().then(Object(w.e)((function(t){return e.userName=t})))}}]),t}(n.Component),fe=Object(p.a)(be.prototype,"userName",[w.n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pe=be))||pe)||pe,De=Object(R.c)(Re),Be=a(605),Le=a(615),Pe=a(285),xe=a(267),_e=a.n(xe),Fe=a(145),ze=function(e){function t(){return Object(b.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.createElement("div",{style:{textAlign:"center",verticalAlign:"middle"}},n.createElement(Fe.Zoom,null,n.createElement("img",{src:_e.a,alt:"Llyciah Logo",style:{objectFit:"contain",fontFamily:"object-fit: contain;",objectPosition:"center",boxSizing:"border-box",display:"inline-block",width:"40%",height:"40%"}})))}}]),t}(n.Component),Ue=function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).service=void 0,a.amount=void 0,a.name=void 0,a.description=void 0,a}return Object(m.a)(t,e),t}(F);Ue.NAME="tagency_Price";var qe,He=Object(v.c)(he=function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).dataCollection=Object(k.h)(Ue.NAME,{view:"price-view",sort:"-updateTs"}),a.fields=["service","description","amount"],a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.dataCollection,a=t.status,r=t.items;return"LOADING"===a?n.createElement(g.a,{type:"spin"}):n.createElement("div",{className:"narrow-layout"},r.map((function(t){return n.createElement(B.a,{title:t.name,key:t.id,style:{marginBottom:"12px"}},e.fields.map((function(e){return n.createElement(k.c,{entityName:Ue.NAME,propertyName:e,value:t[e],key:e})})))})))}}]),t}(n.Component))||he,Ve=a(192),Ge=function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).label=void 0,a.invoice=void 0,a.booking=void 0,a.description=void 0,a.type=void 0,a.amount=void 0,a.marketer=void 0,a.approved=void 0,a.settlement=void 0,a.debtor=void 0,a.creditor=void 0,a.service=void 0,a.reference=void 0,a.valueDate=void 0,a.related=void 0,a.deadline=void 0,a}return Object(m.a)(t,e),t}(F);Ge.NAME="tagency_Transction";var Ye,We,Ke,Qe,Je=Object(v.c)(qe=function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).dataInstance=Object(k.q)(Ge.NAME,{view:"transction-view",loadImmediately:!1}),a.fields=["reference","booking","label","description","type","service","amount","deadline","marketer"],a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.dataInstance.item,t=void 0==e;return n.createElement(B.a,{className:"narrow-layout",loading:t},n.createElement(n.Fragment,null,!t&&this.fields.map((function(t){return n.createElement(k.c,{entityName:Ge.NAME,propertyName:t,value:e[t],key:t})}))),n.createElement("div",{style:{textAlign:"center"}},n.createElement(Ve.a,{to:at.PATH},n.createElement(O.a,{htmlType:"button"},n.createElement(S.a,{id:"management.editor.close"})))))}},{key:"componentDidMount",value:function(){this.props.entityId!==at.NEW_SUBPATH&&this.dataInstance.load(this.props.entityId)}}]),t}(n.Component))||qe,$e=Object(R.c)(Je),Ze=a(143),Xe=a(614),et=Object(k.p)(Ye=Object(v.c)(Ye=function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).dataCollection=Object(k.h)(Ge.NAME,{view:"transction-view",sort:"-updateTs"}),a.fields=["createdTs","valueDate","reference","label","type","service","amount"],a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.dataCollection,a=t.status,r=t.items;return"LOADING"===a?n.createElement("div",{style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)"}},n.createElement(Ze.a,{size:"large"})):n.createElement("div",{className:"narrow-layout"},n.createElement(Xe.a,{itemLayout:"horizontal",bordered:!0,dataSource:r,renderItem:function(t){return n.createElement(Xe.a.Item,{actions:[n.createElement(Ve.a,{hidden:!0,to:at.PATH+"/"+t.id,key:"view"},n.createElement(g.a,{type:"read"}))]},n.createElement("div",{style:{flexGrow:1}},e.fields.map((function(e){return n.createElement(k.c,{entityName:Ge.NAME,propertyName:e,value:t[e],key:e})}))))}}))}}]),t}(n.Component))||Ye)||Ye,tt=Object(R.c)(et),at=Object(v.c)((Qe=Ke=function(e){function t(){return Object(b.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.match.params.entityId;return n.createElement(n.Fragment,null,e?n.createElement($e,{entityId:e}):n.createElement(tt,null))}}]),t}(n.Component),Ke.PATH="/transctionManagement",Ke.NEW_SUBPATH="new",We=Qe))||We,nt=a(610),rt=a(612),ot=function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).code=void 0,a.customer=void 0,a.service=void 0,a.transaction=void 0,a.reason=void 0,a.information=void 0,a.status=void 0,a.branch=void 0,a}return Object(m.a)(t,e),t}(F);ot.NAME="tagency_Booking";var it=function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).type=void 0,a.name=void 0,a.active=void 0,a.description=void 0,a}return Object(m.a)(t,e),t}(F);it.NAME="tagency_Service";var st=function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).name=void 0,a.location=void 0,a.users=void 0,a.account=void 0,a.active=void 0,a.approved=void 0,a}return Object(m.a)(t,e),t}(F);st.NAME="tagency_Branch";var ct,lt,ut,dt,mt,pt,bt,ft,ht,gt,vt,Et,yt,Ot,jt,wt,kt=a(269),Ct=a.n(kt);!function(e){e.Customer="Customer",e.Bank="Bank",e.Main="Main",e.Provider="Provider",e.Other="Other"}(ct||(ct={})),function(e){e.DRAFT="DRAFT",e.SUBMITTED="SUBMITTED",e.ACCEPTED="ACCEPTED",e.REFUSED="REFUSED"}(lt||(lt={})),function(e){e.DRAFT="DRAFT",e.SUBMITTED="SUBMITTED",e.APPROVED="APPROVED",e.REFUSED="REFUSED",e.PROCESSING="PROCESSING",e.COMPLETED="COMPLETED"}(ut||(ut={})),function(e){e.CUSTOMER="CUSTOMER",e.EMPLOYEE="EMPLOYEE",e.GENERAL_INSTRUCTION="GENERAL_INSTRUCTION",e.PROCEDURE_MANUAL="PROCEDURE_MANUAL",e.PRINTED="PRINTED",e.VISA_APPLICATION="VISA_APPLICATION"}(dt||(dt={})),function(e){e.FLY="FLY",e.TOURISM="TOURISM",e.INSURANCE="INSURANCE",e.HOTEL="HOTEL",e.CAR="CAR",e.VISA="VISA",e.PvcCard="PvcCard",e.Hostess="Hostess"}(mt||(mt={})),function(e){e.NEW="NEW",e.DRAFT="DRAFT",e.WAIT_DELETION="WAIT_DELETION",e.DELETED="DELETED",e.WAIT_ACTIVATION="WAIT_ACTIVATION",e.ACTIVE="ACTIVE",e.WAIT_INACTIVATION="WAIT_INACTIVATION",e.INACTIVE="INACTIVE",e.UPDATED="UPDATED"}(pt||(pt={})),function(e){e.Deposit="Deposit",e.Settlement="Settlement",e.Withdraw="Withdraw",e.Other="Other",e.Purchase="Purchase",e.Customer="Customer",e.Reversal="Reversal",e.Liquidity="Liquidity",e.Balance="Balance"}(bt||(bt={})),function(e){e.WAIT="WAIT",e.APPROVED="APPROVED",e.RECEIVED="RECEIVED",e.END="END"}(ft||(ft={}));var Tt,Nt,At,It,Mt,St,Rt,Dt,Bt,Lt,Pt=function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).fields=["createTs","reason","information","service","branch","status"],a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.booking;return void 0===e?null:n.createElement("div",null,n.createElement(n.Fragment,null,e.status!==ut.DRAFT&&n.createElement(k.c,{entityName:ot.NAME,propertyName:"code",value:e.code,key:"code"})),n.createElement(n.Fragment,null,this.fields.map((function(t){return n.createElement(k.c,{entityName:ot.NAME,propertyName:t,value:e[t],key:t})}))),n.createElement(n.Fragment,null,e.status===ut.COMPLETED&&n.createElement(k.c,{entityName:ot.NAME,propertyName:"transaction",value:e.transaction,key:"transaction"})))}}]),t}(n.Component),xt=function(e){function t(){return Object(b.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.createElement(Ve.a,{to:Ht.PATH},n.createElement(O.a,{htmlType:"button"},n.createElement(S.a,{id:this.props.lableId})))}}]),t}(n.Component),_t=Object(k.p)(ht=Object(v.c)((gt=function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r))),Object(s.a)(a,"dataCollection",vt,Object(d.a)(a)),a.onChange=function(e){a.props.onChange&&a.props.onChange({id:e[1]})},a.buildServierTree=function(){var e=Object(k.o)("type",it.NAME,a.props.mainStore.metadata),t=a.props.mainStore.enums,n={};a.dataCollection.items.forEach((function(e){var t=e.type,a=n[t];void 0===a?(a=[e],n[t]=a):a.push(e)}));var r=[];return Object.keys(n).forEach((function(a){var o=[],i=n[a];for(var s in i){var c=i[s];o.push({value:c.id,label:c.name})}r.push({label:Object(k.l)(a,e,t),value:a,children:o})})),r},a.filter=function(e,t,a){return t.some((function(t){return t.label.toLowerCase().indexOf(e.toLowerCase())>-1}))},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.dataCollection;if("DONE"===e.status){var t=this.props.value;return t&&(t.id&&(t=t.id),(t=e.items.find((function(e){return e.id==t})))&&(t=[t.type,t.id])),n.createElement(nt.a,{showSearch:{filter:this.filter},value:t,options:this.buildServierTree(),onChange:this.onChange})}return null}}]),t}(n.Component),vt=Object(p.a)(gt.prototype,"dataCollection",[w.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.props.dataCollection}}),ht=gt))||ht)||ht,Ft=Object(v.c)(Et=Object(k.p)((yt=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).dataInstance=Object(k.q)(ot.NAME,{view:"booking-customer-view",loadImmediately:!1}),a.servicesDc=Object(k.h)(it.NAME,{view:"_minimal"}),a.branchsDc=Object(k.h)(st.NAME,{view:"_minimal"}),a.update=function(){return a.setState({updated:!0})},a.reactionDisposer=void 0,a.fields=["reason","information","service","branch"],Object(s.a)(a,"globalErrors",Ot,Object(d.a)(a)),a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields((function(e,t){e?j.a.error(a.props.intl.formatMessage({id:"management.editor.validationError"})):a.dataInstance.update(a.props.form.getFieldsValue(a.fields)).then((function(){j.a.success(a.props.intl.formatMessage({id:"management.editor.success"})),a.update()})).catch((function(e){e.response&&"function"===typeof e.response.json?e.response.json().then((function(e){Object(k.g)(a.props.form);var t=Object(k.j)(e),n=t.globalErrors,r=t.fieldErrors;a.globalErrors=n,r.size>0&&a.props.form.setFields(Object(k.i)(r,a.props.form)),r.size>0||n.length>0?j.a.error(a.props.intl.formatMessage({id:"management.editor.validationError"})):j.a.error(a.props.intl.formatMessage({id:"management.editor.error"}))})):j.a.error(a.props.intl.formatMessage({id:"management.editor.error"}))}))}))},Object(s.a)(a,"submited",jt,Object(d.a)(a)),Object(s.a)(a,"confirm",wt,Object(d.a)(a)),a.state={updated:!1},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){if(!0===this.state.updated)return n.createElement(rt.a,{to:Ht.PATH});var e=this.dataInstance.status,t=this.dataInstance.item,a="DONE"===e&&t.status===ut.DRAFT;return n.createElement(B.a,{className:"narrow-layout"},this.props.readonly?n.createElement("div",null,n.createElement(Pt,{booking:t}),n.createElement("div",{style:{marginTop:"12px"}},n.createElement(xt,{lableId:"management.editor.close"}),n.createElement(O.a,{hidden:!a,loading:this.submited,type:"primary",htmlType:"button",style:{marginLeft:"8px"},onClick:this.confirm},n.createElement(S.a,{id:"booking.submit"})))):n.createElement(E.a,{onSubmit:this.handleSubmit,layout:"vertical"},n.createElement(k.d,{entityName:ot.NAME,propertyName:"reason",form:this.props.form,formItemOpts:{style:{marginBottom:"12px"}},getFieldDecoratorOpts:{rules:[{required:!0,max:20}]}}),n.createElement(E.a.Item,{label:n.createElement(k.e,{propertyName:"information",entityName:ot.NAME,key:"information"}),style:{marginBottom:"12px"}},this.props.form.getFieldDecorator("information")(n.createElement(Ct.a,null))),n.createElement(E.a.Item,{label:n.createElement(k.e,{propertyName:"service",entityName:ot.NAME,key:"service"}),style:{marginBottom:"12px"}},this.props.form.getFieldDecorator("service",{rules:[{required:!0}]})(n.createElement(_t,{dataCollection:this.servicesDc}))),n.createElement(k.d,{entityName:ot.NAME,propertyName:"branch",form:this.props.form,formItemOpts:{style:{marginBottom:"12px"}},optionsContainer:this.branchsDc,getFieldDecoratorOpts:{rules:[{required:!0}]}}),this.globalErrors.length>0&&n.createElement(P.a,{message:n.createElement(k.f,{lines:Object(w.r)(this.globalErrors)}),type:"error",style:{marginBottom:"24px"}}),n.createElement(E.a.Item,{style:{textAlign:"center"}},n.createElement(xt,{lableId:"management.editor.cancel"}),n.createElement(O.a,{type:"primary",htmlType:"submit",disabled:"DONE"!==e&&"ERROR"!==e,loading:"LOADING"===e,style:{marginLeft:"8px"}},n.createElement(S.a,{id:"management.editor.submit"})))))}},{key:"componentDidMount",value:function(){var e=this;this.props.entityId!==Ht.NEW_SUBPATH?this.dataInstance.load(this.props.entityId):this.dataInstance.setItem(new ot),this.reactionDisposer=Object(w.o)((function(){return e.dataInstance.item}),(function(){e.props.form.setFieldsValue(e.dataInstance.getFieldValues(e.fields))}))}},{key:"componentWillUnmount",value:function(){this.reactionDisposer()}}]),t}(n.Component),Ot=Object(p.a)(yt.prototype,"globalErrors",[w.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),jt=Object(p.a)(yt.prototype,"submited",[w.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),wt=Object(p.a)(yt.prototype,"confirm",[w.e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){Ne.a.confirm({title:e.props.intl.formatMessage({id:"booking.submit.areYouSure"},{instanceName:e.dataInstance.item._instanceName}),okText:e.props.intl.formatMessage({id:"booking.submit.areYouSure.ok"}),cancelText:e.props.intl.formatMessage({id:"booking.submit.areYouSure.cancel"}),onOk:function(){return e.submited=!0,e.dataInstance.update({status:ut.SUBMITTED}).then((function(){j.a.success(e.props.intl.formatMessage({id:"booking.success"})),e.update()})).catch((function(){j.a.error(e.props.intl.formatMessage({id:"booking.error"})),e.submited=!1}))}})}}}),Et=yt))||Et)||Et,zt=Object(R.c)(Object(k.r)({onValuesChange:function(e,t){Object.keys(t).forEach((function(a){e.form.setFields(Object(D.a)({},a,{value:t[a]}))}))}})(Ft)),Ut=Object(k.p)(Tt=Object(v.c)((Nt=function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).dataCollection=Object(k.h)(ot.NAME,{view:"booking-customer-view",sort:"-createTs"}),a.fields=["createTs","code","reason","service","branch","status"],Object(s.a)(a,"selectedRowKey",At,Object(d.a)(a)),a.showDeletionDialog=function(e){Ne.a.confirm({title:a.props.intl.formatMessage({id:"management.browser.delete.areYouSure"},{instanceName:e._instanceName}),okText:a.props.intl.formatMessage({id:"management.browser.delete.ok"}),cancelText:a.props.intl.formatMessage({id:"management.browser.delete.cancel"}),onOk:function(){return a.selectedRowKey=void 0,a.dataCollection.delete(e)}})},a.isSelectedDraft=function(){return void 0!=a.selectedRowKey&&a.getRecordById(a.selectedRowKey).status===ut.DRAFT},a.reserve=function(){var e=a.getRecordById(a.selectedRowKey);Ne.a.confirm({title:a.props.intl.formatMessage({id:"booking.submit.areYouSure"},{instanceName:e._instanceName}),okText:a.props.intl.formatMessage({id:"booking.submit.areYouSure.ok"}),cancelText:a.props.intl.formatMessage({id:"booking.submit.areYouSure.cancel"}),onOk:function(){return Object(k.k)().commitEntity(ot.NAME,{id:e.id,status:ut.SUBMITTED}).then((function(e){j.a.success(a.props.intl.formatMessage({id:"booking.success"})),a.dataCollection.load()})).catch((function(){j.a.error(a.props.intl.formatMessage({id:"booking.error"}))}))}})},a.handleRowSelectionChange=function(e){a.selectedRowKey=e[0]},a.deleteSelectedRow=function(){a.showDeletionDialog(a.getRecordById(a.selectedRowKey))},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=[n.createElement(Ve.a,{to:Ht.PATH+"/edit/"+Ht.NEW_SUBPATH,key:"create"},n.createElement(O.a,{htmlType:"button",style:{margin:"0 12px 12px 0"},type:"primary",icon:"plus"},n.createElement("span",null,n.createElement(S.a,{id:"management.browser.create"})))),n.createElement(Ve.a,{to:Ht.PATH+"/edit/"+this.selectedRowKey,key:"edit"},n.createElement(O.a,{htmlType:"button",style:{margin:"0 12px 12px 0"},disabled:!this.isSelectedDraft(),type:"default"},n.createElement(S.a,{id:"management.browser.edit"}))),n.createElement(Ve.a,{to:Ht.PATH+"/view/"+this.selectedRowKey,key:"open"},n.createElement(O.a,{htmlType:"button",style:{margin:"0 12px 12px 0"},disabled:!this.selectedRowKey,type:"default"},n.createElement(S.a,{id:"management.browser.open"}))),n.createElement(O.a,{htmlType:"button",style:{margin:"0 12px 12px 0"},disabled:!this.isSelectedDraft(),type:"primary",onClick:this.reserve},n.createElement(S.a,{id:"booking.submit"})),n.createElement(O.a,{htmlType:"button",style:{margin:"0 12px 12px 0"},disabled:!this.isSelectedDraft(),onClick:this.deleteSelectedRow,key:"remove",type:"default"},n.createElement(S.a,{id:"management.browser.remove"}))];return n.createElement(k.b,{dataCollection:this.dataCollection,fields:this.fields,onRowSelectionChange:this.handleRowSelectionChange,hideSelectionColumn:!0,buttons:e})}},{key:"getRecordById",value:function(e){var t=this.dataCollection.items.find((function(t){return t.id===e}));if(!t)throw new Error("Cannot find entity with id "+e);return t}}]),t}(n.Component),At=Object(p.a)(Nt.prototype,"selectedRowKey",[w.n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Tt=Nt))||Tt)||Tt,qt=Object(R.c)(Ut),Ht=Object(v.c)((St=Mt=function(e){function t(){return Object(b.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.match.params,t=e.entityId,a=e.action;return n.createElement(n.Fragment,null,t?n.createElement(zt,{readonly:"view"===a,entityId:t}):n.createElement(qt,null))}}]),t}(n.Component),Mt.PATH="/bookingManagement",Mt.NEW_SUBPATH="new",It=St))||It,Vt={loadCustomerInformation:function(e,t){return function(){return e.query("tagency_Customer","loadCustomerInformation",{},t)}},loadCustomerInformationCount:function(e,t){return function(){return e.queryCount("tagency_Customer","loadCustomerInformation",{},t)}},loadCustomerInformationWithCount:function(e,t){return function(){return e.queryWithCount("tagency_Customer","loadCustomerInformation",{},t)}}},Gt=Object(v.c)((Dt=function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).customer=void 0,a.fields=["code","firstName","name","lastName","email","phone","passport","registerDate","marketer","birthDay","placeBirth"],Object(s.a)(a,"loading",Bt,Object(d.a)(a)),Object(s.a)(a,"error",Lt,Object(d.a)(a)),a.data=void 0,a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;if(!0===this.error)return j.a.error(this.props.intl.formatMessage({id:"information.failed"})),null;this.loading;return n.createElement(B.a,{className:"narrow-layout",loading:this.loading,title:n.createElement(S.a,{id:"information.title"})},!this.loading&&this.fields.map((function(t){return n.createElement(k.c,{entityName:z.NAME,propertyName:t,value:e.data[t],key:t})})))}},{key:"componentDidMount",value:function(){var e=this;Vt.loadCustomerInformation(Object(k.k)())().then(Object(w.e)((function(t){e.data=t[0],e.loading=!1}))).catch(Object(w.e)((function(){e.error=!0})))}}]),t}(n.Component),Bt=Object(p.a)(Dt.prototype,"loading",[w.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Lt=Object(p.a)(Dt.prototype,"error",[w.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Rt=Dt))||Rt,Yt=Object(R.c)(Gt),Wt=Object(k.n)();Wt.push({pathPattern:"/information",menuLink:"/information",component:Yt,caption:"Information"}),Wt.push({pathPattern:"/bookingManagement/:action?/:entityId?",menuLink:"/bookingManagement",component:Ht,caption:"BookingManagement"}),Wt.push({pathPattern:"/transctionManagement/:entityId?",menuLink:"/transctionManagement",component:at,caption:"TransctionManagement"}),Wt.push({pathPattern:"/priceCards",menuLink:"/priceCards",component:He,caption:"PriceCards"});var Kt,Qt,Jt=function(e){function t(){return Object(b.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.createElement(I,null,n.createElement(g.a,{type:"loading",style:{fontSize:24},spin:!0}))}}]),t}(n.Component),$t=a(111),Zt=a(48),Xt=function(e,t,a){return e[a.type]?e[a.type](t,a):t},ea=Object(Zt.Map)({showChat:!1,disabledInput:!1,msgLoader:!1,pulse:0,disabledButton:!0}),ta=(Kt={},Object(D.a)(Kt,"BEHAVIOR/TOGGLE_CHAT",(function(e){return e.update("showChat",(function(e){return!e}))})),Object(D.a)(Kt,"BEHAVIOR/NOTIFY_CONNECTED",(function(e){return e.update("pulse",(function(e){return e+1}))})),Object(D.a)(Kt,"BEHAVIOR/NOTIFY_DISCONNECTED",(function(e){return e.update("pulse",(function(e){return 0}))})),Object(D.a)(Kt,"BEHAVIOR/TOGGLE_INPUT_DISABLED",(function(e){return e.update("disabledInput",(function(e){return!e}))})),Object(D.a)(Kt,"BEHAVIOR/TOGGLE_BUTTON_DISABLED",(function(e){return e.update("disabledButton",(function(e){return!e}))})),Object(D.a)(Kt,"BEHAVIOR/ENABLE_INPUT",(function(e){return e.update("disabledInput",(function(e){return!1}))})),Object(D.a)(Kt,"BEHAVIOR/DISABLE_INPUT",(function(e){return e.update("disabledInput",(function(e){return!0}))})),Object(D.a)(Kt,"BEHAVIOR/TOGGLE_MSG_LOADER",(function(e){return e.update("msgLoader",(function(e){return!e}))})),Kt),aa=a(1),na=a.n(aa),ra=a(107),oa=a.n(ra),ia="client",sa="response",ca="text",la={LINK:"snippet"},ua="component",da=(oa.a.contains({type:na.a.oneOf([ca,la.LINK]),text:na.a.string,sender:na.a.oneOf([ia,sa])}),oa.a.contains({type:na.a.oneOf([ca,la.LINK]),title:na.a.string,link:na.a.string,sender:na.a.oneOf([ia,sa])}),a(270)),ma=a.n(da),pa=a(271),ba=a.n(pa),fa=a(272),ha=a.n(fa),ga=a(273),va=a.n(ga),Ea=(a(581),function(e){function t(){return Object(b.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=ma()({breaks:!0}).use(ba.a).use(ha.a).use(va.a,{attrs:{target:"_blank",rel:"noopener"}}).render(this.props.message.get("text"));return r.a.createElement("div",{className:"rcw-".concat(this.props.message.get("sender"))},r.a.createElement("div",{className:"rcw-message-text",dangerouslySetInnerHTML:{__html:e}}))}}]),t}(n.PureComponent)),ya=(a(582),function(e){function t(){return Object(b.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"rcw-snippet"},r.a.createElement("h5",{className:"rcw-snippet-title"},this.props.message.get("title")),r.a.createElement("div",{className:"rcw-snippet-details"},r.a.createElement("a",{href:this.props.message.get("link"),target:this.props.message.get("target"),className:"rcw-link"},this.props.message.get("link"))))}}]),t}(n.PureComponent)),Oa=a(49),ja=(a(584),function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).getComponentToRender=a.getComponentToRender.bind(Object(d.a)(a)),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"getComponentToRender",value:function(e){var t=e.get("component");return r.a.createElement(t,{onQuickButtonClicked:this.props.onQuickButtonClicked,button:e})}},{key:"render",value:function(){var e=this;return this.props.buttons.size?r.a.createElement("div",{className:"quick-buttons-container"},r.a.createElement("ul",{className:"quick-buttons"},this.props.buttons.map((function(t,a){return r.a.createElement("li",{className:"quick-list-button",key:a},e.getComponentToRender(t))})))):null}}]),t}(n.Component)),wa=Object(Oa.b)((function(e){return{buttons:e.quickButtons}}))(ja);function ka(e,t){return Object(Zt.Map)({type:ca,component:Ea,text:e,sender:t,showAvatar:t===sa})}function Ca(e){if(e){var t=e.clientHeight,a=e.scrollTop,n=e.scrollHeight-(a+t);n&&function(e,t,a){var n=window.webkitRequestAnimationFrame||window.requestAnimationFrame,r=null;n((function o(i){r||(r=i);var s,c=a*((s=(s=i-r)/400-1)*s*s+1)+0,l=t+c;e.scrollTop=l,l<t+a&&n(o)}))}(e,a,n)}}var Ta=Object(Zt.List)([]),Na=(Qt={},Object(D.a)(Qt,"MESSAGES/ADD_NEW_USER_MESSAGE",(function(e,t){var a=t.text;return e.push(ka(a,ia))})),Object(D.a)(Qt,"MESSAGES/ADD_NEW_RESPONSE_MESSAGE",(function(e,t){var a=t.text;return e.push(ka(a,sa))})),Object(D.a)(Qt,"MESSAGES/ADD_NEW_LINK_SNIPPET",(function(e,t){var a=t.link;return e.push(function(e){return Object(Zt.Map)({type:la.LINK,component:ya,title:e.title,link:e.link,target:e.target||"_blank",sender:sa,showAvatar:!0})}(a))})),Object(D.a)(Qt,"MESSAGES/ADD_COMPONENT_MESSAGE",(function(e,t){var a=t.component,n=t.props,r=t.showAvatar;return e.push(function(e,t,a){return Object(Zt.Map)({type:ua,component:e,props:t,sender:sa,showAvatar:a})}(a,n,r))})),Object(D.a)(Qt,"MESSAGES/DROP_MESSAGES",(function(){return Object(Zt.List)([])})),Object(D.a)(Qt,"MESSAGES/HIDE_AVATAR",(function(e,t){var a=t.index;return e.update(a,(function(e){return e.set("showAvatar",!1)}))})),Qt),Aa=Object(Zt.List)([]),Ia=Object(D.a)({},"SET_QUICK_BUTTONS",(function(e,t){return Object(Zt.List)(t.buttons.map((function(e){return function(e){return Object(Zt.Map)({component:wa,label:e.label,value:e.value})}(e)})))})),Ma=Object($t.b)({behavior:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ea,t=arguments.length>1?arguments[1]:void 0;return Xt(ta,e,t)},messages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ta,t=arguments.length>1?arguments[1]:void 0;return Xt(Na,e,t)},quickButtons:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Aa,t=arguments.length>1?arguments[1]:void 0;return Xt(Ia,e,t)}}),Sa=Object($t.c)(Ma,"");function Ra(e){Sa.dispatch(function(e){return{type:"MESSAGES/ADD_NEW_USER_MESSAGE",text:e.trim()}}(e))}function Da(){Sa.dispatch({type:"BEHAVIOR/ENABLE_INPUT"})}var Ba,La,Pa,xa,_a,Fa,za,Ua,qa=a(275),Ha=a.n(qa),Va=a(147),Ga=a.n(Va),Ya=(a(585),function(e){var t=e.badge;return t>0&&r.a.createElement("span",{className:"rcw-badge"},t)}),Wa=(a(586),Object(Oa.b)((function(e){return{chatOpened:e.behavior.get("showChat")}}))((function(e){var t=e.toggle,a=e.chatOpened,n=e.badge;return r.a.createElement(Fe.Bounce,null,r.a.createElement("button",{type:"button",className:a?"rcw-launcher rcw-hide-sm":"rcw-launcher",onClick:t},r.a.createElement(Ya,{badge:n}),a?r.a.createElement("img",{src:Ga.a,className:"rcw-close-launcher",alt:""}):r.a.createElement("img",{src:Ha.a,className:"rcw-open-launcher",alt:""})))}))),Ka=(a(587),a(588),function(e){var t=e.title,a=e.subtitle,n=e.toggleChat,o=e.showCloseButton,i=e.titleAvatar;return r.a.createElement("div",{className:"rcw-header"},o&&r.a.createElement("button",{className:"rcw-close-button",onClick:n},r.a.createElement("img",{src:Ga.a,className:"rcw-close",alt:"close"})),r.a.createElement("h4",{className:"rcw-title"},i&&r.a.createElement("img",{src:i,className:"avatar",alt:"profile"}),t),r.a.createElement("span",null,a))}),Qa=(a(589),function(e){return r.a.createElement("div",{className:"loader ".concat(e.typing&&"active")},r.a.createElement("div",{className:"loader-container"},r.a.createElement("span",{className:"loader-dots"}),r.a.createElement("span",{className:"loader-dots"}),r.a.createElement("span",{className:"loader-dots"})))}),Ja=(a(590),a(591),function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).$message=null,a.getComponentToRender=function(e){var t=e.get("component");a.props.messages.get();return"component"===e.get("type")?r.a.createElement(t,e.get("props")):r.a.createElement(t,{message:e})},a.shouldRenderAvatar=function(e,t){var n=a.props.messages.get(t-1);e.get("showAvatar")&&n.get("showAvatar")&&a.props.dispatch({type:"MESSAGES/HIDE_AVATAR"})},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){Ca(this.$message)}},{key:"componentDidUpdate",value:function(){Ca(this.$message)}},{key:"render",value:function(){var e=this,t=this.props,a=t.messages,n=t.profileAvatar,o=t.typing;return r.a.createElement("div",Object(D.a)({id:"messages",className:"rcw-messages-container",ref:function(t){return e.$message=t}},"ref",(function(t){return e.scrollParentRef=t})),a.map((function(t,a){return r.a.createElement("div",{className:"rcw-message",key:a},n&&t.get("showAvatar")&&r.a.createElement("img",{src:n,className:"rcw-avatar",alt:"profile"}),e.getComponentToRender(t))})),r.a.createElement(Qa,{typing:o}))}}]),t}(n.Component)),$a=Object(Oa.b)((function(e){return{messages:e.messages,typing:e.behavior.get("msgLoader")}}))(Ja),Za=a(276),Xa=a.n(Za),en=(a(593),function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).input=r.a.createRef(),a.onChange=function(e){var t=e.target.value;null!=t&&t.trim().length>0?a.state.buttonDisabled&&a.toggeButtonDisabled():a.state.buttonDisabled||a.toggeButtonDisabled()},a.toggeButtonDisabled=function(){return a.setState((function(e,t){return{buttonDisabled:!e.buttonDisabled}}))},a.onSubmit=function(e){a.toggeButtonDisabled(),a.props.sendMessage(e)},a.state={buttonDisabled:!0},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(){this.input.current.focus()}},{key:"render",value:function(){var e=this.props,t=e.placeholder,a=e.disabledInput,n=e.autofocus;return r.a.createElement("form",{className:"rcw-sender",onSubmit:this.onSubmit},r.a.createElement("textarea",{type:"text",className:"rcw-new-message",name:"message",onChange:this.onChange,placeholder:t,disabled:a,autoFocus:n,autoComplete:"off",ref:this.input}),r.a.createElement("button",{type:"submit",className:"rcw-send",disabled:this.state.buttonDisabled},r.a.createElement("img",{src:Xa.a,className:"rcw-send-icon",alt:"send"})))}}]),t}(n.Component)),tn=(a(594),function(e){function t(){return Object(b.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"rcw-conversation-container"},r.a.createElement(Ka,{title:this.props.title,subtitle:this.props.subtitle,toggleChat:this.props.toggleChat,showCloseButton:this.props.showCloseButton,titleAvatar:this.props.titleAvatar}),r.a.createElement($a,{profileAvatar:this.props.profileAvatar}),r.a.createElement(wa,{onQuickButtonClicked:this.props.onQuickButtonClicked}),r.a.createElement(en,{sendMessage:this.props.sendMessage,placeholder:this.props.senderPlaceHolder,disabledInput:this.props.disabledInput,autofocus:this.props.autofocus}))}}]),t}(r.a.Component)),an=function(e){function t(){return Object(b.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"rcw-widget-container ".concat(this.props.fullScreenMode?"rcw-full-screen":""," ").concat(this.props.showChat?"rcw-opened":"")},this.props.showChat&&r.a.createElement(tn,{title:this.props.title,subtitle:this.props.subtitle,sendMessage:this.props.onSendMessage,senderPlaceHolder:this.props.senderPlaceHolder,onQuickButtonClicked:this.props.onQuickButtonClicked,profileAvatar:this.props.profileAvatar,toggleChat:this.props.onToggleConversation,showCloseButton:this.props.showCloseButton,disabledInput:this.props.disabledInput,autofocus:this.props.autofocus,titleAvatar:this.props.titleAvatar}),this.props.customLauncher?this.props.customLauncher(this.props.onToggleConversation):!this.props.fullScreenMode&&r.a.createElement(Wa,{toggle:this.props.onToggleConversation,badge:this.props.badge}))}}]),t}(r.a.Component),nn=Object(Oa.b)((function(e){return{showChat:e.behavior.get("showChat"),disabledInput:e.behavior.get("disabledInput")}}))(an),rn=function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).toggleConversation=function(){a.props.dispatch({type:"BEHAVIOR/TOGGLE_CHAT"})},a.handleMessageSubmit=function(e){e.preventDefault();var t=e.target.message.value;t.trim()&&a.props.handleNewUserMessage(t),e.target.message.value=""},a.handleQuickButtonClicked=function(e,t){e.preventDefault(),a.props.handleQuickButtonClicked&&a.props.handleQuickButtonClicked(t)},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.fullScreenMode&&this.props.dispatch({type:"BEHAVIOR/TOGGLE_CHAT"})}},{key:"render",value:function(){return r.a.createElement(nn,{onToggleConversation:this.toggleConversation,onSendMessage:this.handleMessageSubmit,onQuickButtonClicked:this.handleQuickButtonClicked,title:this.props.title,titleAvatar:this.props.titleAvatar,subtitle:this.props.subtitle,senderPlaceHolder:this.props.senderPlaceHolder,profileAvatar:this.props.profileAvatar,showCloseButton:this.props.showCloseButton,fullScreenMode:this.props.fullScreenMode,badge:this.props.badge,autofocus:this.props.autofocus,customLauncher:this.props.customLauncher})}}]),t}(n.Component),on=Object(Oa.b)()(rn),sn=Object(v.c)(Ba=function(e){function t(){return Object(b.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(Oa.a,{store:this.props.store},r.a.createElement(on,{title:this.props.title,titleAvatar:this.props.titleAvatar,subtitle:this.props.data.subtitle,handleNewUserMessage:this.props.handleNewUserMessage,handleQuickButtonClicked:this.props.handleQuickButtonClicked,senderPlaceHolder:this.props.senderPlaceHolder,profileAvatar:this.props.profileAvatar,showCloseButton:this.props.showCloseButton,fullScreenMode:this.props.fullScreenMode,badge:this.props.data.badge,autofocus:this.props.autofocus,customLauncher:this.props.launcher}))}}]),t}(r.a.Component))||Ba,cn=Object(k.p)(La=Object(v.c)((Pa=function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).onUserMessage=function(e){ve.sendMessage(Object(k.k)())({groupId:a.chatGroupId,content:e}).then((function(t){return Ra(e)})).catch((function(e){return console.error(e)}))},Object(s.a)(a,"chatGroupId",xa,Object(d.a)(a)),Object(s.a)(a,"markerterIsOnline",_a,Object(d.a)(a)),Object(s.a)(a,"unreadeMsg",Fa,Object(d.a)(a)),Object(s.a)(a,"chatData",za,Object(d.a)(a)),a.connectedCount=0,a.onQuickButtonClicked=function(e){return console.debug("click "+e)},a.loadGroupId=function(){return ve.getConnectedCustomerGroup(Object(k.k)())().then((function(e){a.chatGroupId=e,Da()})).catch((function(e){return console.error(e)}))},a.checkMarketerOnline=function(){var e=Object(k.k)();ve.isConnectedCustomerMarketerOnline(e)().then((function(e){var t,n=JSON.parse(e);a.markerterIsOnline!==n&&(a.markerterIsOnline=n,a.markerterIsOnline?(t="chat.marketer.online",void 0==a.messageTimer&&(a.messageTimer=setInterval((function(){return a.loadMessages()}),6e3))):(t="chat.marketer.offline",void 0!=a.messageTimer&&(clearInterval(a.messageTimer),a.messageTimer=void 0)),a.chatData.subtitle=a.props.intl.formatMessage({id:t}))})).catch((function(e){return console.error(e)}))},a.messageIds=[],Object(s.a)(a,"loadMessages",Ua,Object(d.a)(a)),a.messageTimer=void 0,a.onlineTimer=void 0,a.unsubscribeStore=void 0,a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.mainStore,a=t.initialized,r=t.locale,o=t.loginRequired;if(!a||!r)return null!==this.chatGroupId&&(this.chatGroupId=null),n.createElement(Jt,null);if(o)return null!==this.chatGroupId&&(this.chatGroupId=null),n.createElement(I,null,n.createElement(Te,null));this.loadGroupId();return n.createElement(f.a,{className:"main-layout"},n.createElement(f.a.Header,null,n.createElement(De,null)),n.createElement(f.a,null,n.createElement(f.a.Sider,{width:200,breakpoint:"sm",collapsedWidth:0,style:{background:"#fff"}},n.createElement(h.a,{mode:"inline",style:{height:"100%",borderRight:0}},n.createElement(h.a.Item,{key:1},n.createElement(Be.a,{to:"/"},n.createElement(g.a,{type:"home"}),n.createElement(S.a,{id:"router.home"}))),Wt.map((function(t,a){return function e(t,a,r){if(null!=t.items)return n.createElement(h.a.SubMenu,{key:a,title:r.formatMessage({id:"router."+t.caption})},t.items.map((function(t,n){return e(t,a+"-"+(n+1),r)})));var o=t.menuLink;return n.createElement(h.a.Item,{key:a},n.createElement(Be.a,{to:o},n.createElement(g.a,{type:"bars"}),n.createElement(S.a,{id:"router."+t.caption})))}(t,""+(a+1+1),e.props.intl)})))),n.createElement(f.a,{style:{padding:"24px 24px 24px"}},n.createElement(f.a.Content,null,n.createElement(Le.a,null,n.createElement(Pe.a,{exact:!0,path:"/",component:ze}),function e(t){return t.reduce((function(t,a){return null==a.items?t.push(a):t.push.apply(t,Object(i.a)(e(a.items))),t}),[])}(Wt).map((function(e){return n.createElement(Pe.a,{key:e.pathPattern,path:e.pathPattern,component:e.component})}))),n.createElement(sn,{store:Sa,title:this.props.intl.formatMessage({id:"chat.title"}),data:this.chatData,senderPlaceHolder:this.props.intl.formatMessage({id:"chat.placeHolder"}),showCloseButton:!0,fullScreenMode:!1,autofocus:!0,handleQuickButtonClicked:this.onQuickButtonClicked,handleNewUserMessage:this.onUserMessage})),n.createElement(f.a,null,n.createElement(f.a.Footer,null,n.createElement(M,null))))))}},{key:"componentDidMount",value:function(){var e=this;this.onlineTimer=setInterval((function(){null!==e.chatGroupId&&e.checkMarketerOnline()}),3e4),this.unsubscribeStore=Sa.subscribe((function(){var t=Sa.getState().behavior.get("showChat");e.chatData.opened!=t&&(e.chatData.opened=t,t&&(e.chatData.badge=0))})),Sa.dispatch({type:"BEHAVIOR/DISABLE_INPUT"})}},{key:"componentWillUnmount",value:function(){clearInterval(this.onlineTimer),this.unsubscribeStore()}}]),t}(n.Component),xa=Object(p.a)(Pa.prototype,"chatGroupId",[w.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_a=Object(p.a)(Pa.prototype,"markerterIsOnline",[w.n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fa=Object(p.a)(Pa.prototype,"unreadeMsg",[w.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),za=Object(p.a)(Pa.prototype,"chatData",[w.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{subtitle:"",badge:0,opened:!1}}}),Ua=Object(p.a)(Pa.prototype,"loadMessages",[w.e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(k.k)();ve.loadNewMessages(t)({groupId:e.chatGroupId,limit:10}).then((function(a){JSON.parse(a).forEach((function(a){var n;-1==e.messageIds.indexOf(a.id)&&(e.messageIds.push(a.id),n=a.content,Sa.dispatch(function(e){return{type:"MESSAGES/ADD_NEW_RESPONSE_MESSAGE",text:e}}(n)),e.chatData.opened||e.chatData.badge++),ve.markAsRead(t)({messageIds:[a.id]})}))})).catch((function(e){return console.error(e)}))}}}),La=Pa))||La)||La;var ln=Object(R.c)(cn),un=a(613),dn=a(88),mn=(a(595),a(596),a(597),a(277)),pn=a(278),bn=a(279),fn=a(281),hn={en:bn.a,fr:fn.a},gn={en:mn,fr:pn};a(598);a.d(t,"cubaREST",(function(){return vn}));var vn=Object(dn.initializeApp)({name:"LLyciah Travel",apiUrl:"https://app.llyciah-travel.com/rest/",storage:window.localStorage});o.render(n.createElement(k.a,{cubaREST:vn,messagesMapping:gn,antdLocaleMapping:hn},n.createElement(un.a,null,n.createElement(Pe.a,{component:ln}))),document.getElementById("root"))}},[[288,1,2]]]);
//# sourceMappingURL=main.bc050b90.chunk.js.map